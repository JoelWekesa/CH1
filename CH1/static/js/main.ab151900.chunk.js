(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{118:function(e,t,s){},119:function(e,t,s){},120:function(e,t,s){},121:function(e,t,s){},122:function(e,t,s){},123:function(e,t,s){},124:function(e,t,s){},125:function(e,t,s){},126:function(e,t,s){},127:function(e,t,s){},128:function(e,t,s){},129:function(e,t,s){},130:function(e,t,s){},132:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(26),a=s.n(c),r=(s(90),s(13)),i=s(41),o=s(72),l=s(73),d=s(2),h="START_LOGIN",j="LOGIN_SUCCESS",u="LOGIN_FAIL",p="START_LOGOUT",b="LOGOUT_SUCCESS",O="LOGOUT_FAIL",v={user:{},error:null,isAuthenticated:!1,loading:!1,loadingLogout:!1,errorLogout:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case j:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,user:t.payload,error:null,isAuthenticated:!0});case u:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,user:{},error:t.payload,isAuthenticated:!1});case p:return Object(d.a)(Object(d.a)({},e),{},{loadingLogout:!0});case b:return Object(d.a)(Object(d.a)({},e),{},{user:{},error:null,isAuthenticated:!1,loading:!1,loadingLogout:!1,errorLogout:null});case O:return Object(d.a)(Object(d.a)({},e),{},{user:{},error:null,isAuthenticated:!1,loading:!1,loadingLogout:!1,errorLogout:t.payload});default:return e}},m="GET_DEPARTMENTS",f="GET_DEPARTMENTS_FAIL",g={MHKdepartments:[],departmentsError:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{MHKdepartments:t.payload,departmentsError:null});case f:return Object(d.a)(Object(d.a)({},e),{},{MHKdepartments:[],departmentsError:t.payload});default:return e}},_="GET_PROJECTS",A="GET_PROJECTS_FAIL",w={MHKprojects:[],projectsError:null},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(d.a)(Object(d.a)({},e),{},{MHKprojects:t.payload,projectsError:null});case A:return Object(d.a)(Object(d.a)({},e),{},{MHKprojects:[],projectsError:t.payload});default:return e}},N="START_TAXI_LOGISTICS",C="TAXI_LOGISTICS",q="TAXI_LOGISTICS_FAIL",D="GET_SUPERVISOR_TAXILOGISTICS",E="GET_SUPERVISOR_TAXILOGISTICS_FAIL",R="GET_SPECIFIC_TAXI_LOGISTIC",T="GET_SPECIFIC_TAXI_LOGISTIC_FAIL",k={loading:!1,logistics:{},logisticsError:null},P={supervisorLogistics:[],supervisorLogisticsError:null},L={logistic:{},logisticError:null},F="PURCHASE_REQUEST",B="PURCHASE_REQUEST_FAIL",I="SPECIFIC_PURCHASE_REQUEST",M="SPECIFIC_PURCHASE_REQUEST_FAIL",z="PURCHASE_REQUEST_DATA",U="PURCHASE_REQUEST_DATA_FAIL",V={loading:!1,purchaseRequistion:{},purchaseRequistionError:null},Y={purchaseRequests:[],purchaseRequestsError:null},H={purchaseRequest:{},purchaseRequestError:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,purchaseRequistion:t.payload,purchaseRequistionError:null});case B:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,purchaseRequistion:{},purchaseRequistionError:t.payload});default:return e}},K="GET_ACCOUNT_CODES",X="GET_ACCOUNT_CODES_FAIL",Q="GET_SUPERVISORS",W="GET_SUPERVISORS_FAIL",J="GET_SUPERVISORS",Z="GET_SUPERVISORS_FAIL",$="GET_FINANCE_STAFF",ee="GET_FINANCE_STAFF_FAIL",te="GET_CEO",se="GET_CEO_FAIL",ne={accountCodes:[],accountCodesError:null},ce={supervisors:[],supervisorsError:null},ae={supervisor:[],supervisorError:null},re={financeStaff:[],financeStaffError:null},ie={CEO:[],CEOError:null},oe="START_BUSINESS_ADVANCE_REQUEST",le="BUSINESS_ADVANCE_REQUEST",de="BUSINESS_ADVANCE_REQUEST_FAIL",he="GET_SUPERVISOR_BUSINESS_ADVANCE_REQUEST",je="GET_SUPERVISOR_BUSINESS_ADVANCE_REQUEST_FAIL",ue="SPECIFIC_BAR",pe="SPECIFIC_BAR_FAIL",be={loading:!1,BAR:{},BARError:null},Oe={sBAR:[],sBARError:null},ve={specificBAR:{},specificBARError:null},xe="GET_SUPERVISOR_TRAVEL_AUTHORIZATION",me="GET_SUPERVISOR_TRAVEL_AUTHORIZATION_FAIL",fe="GET_SPECIFIC_TRAVEL_AUTHORIZATION",ge="GET_SPECIFIC_TRAVEL_AUTHORIZATION_FAIL",ye="GET_OTHER",_e="GET_OTHER_FAIL",Ae={supervisorTravelAuthorization:[],supervisorTravelAuthorizationError:null},we={travelAuthorization:{},travelAuthorizationError:null,other:[],otherError:null},Se="GET_TRAVEL_EXPENSE_REPORT",Ne="GET_TRAVEL_EXPENSE_REPORT_FAIL",Ce="SPECIFIC_TRAVEL_EXPENSE_REPORT",qe="SPECIFIC_TRAVEL_EXPENSE_REPORT_FAIL",De="GET_OTHER_TRAVEL_EXPENSE_REPORT",Ee="GET_OTHER_TRAVEL_EXPENSE_REPORT_FAIL",Re={travelExpense:[],travelExpenseError:null},Te={TES:{},TESError:null,otherTES:[],otherTESError:null},ke="GET_LOGO",Pe="GET_LOGO_FAIL",Le={logo:[],logoError:null},Fe=Object(i.combineReducers)({auth:x,departments:y,makePurchase:G,accounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(d.a)(Object(d.a)({},e),{},{accountCodes:t.payload,accountCodesError:null});case X:return Object(d.a)(Object(d.a)({},e),{},{accountCodes:[],accountCodesError:t.payload});default:return e}},supervisors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(d.a)(Object(d.a)({},e),{},{supervisors:t.payload,supervisorsError:null});case W:return Object(d.a)(Object(d.a)({},e),{},{supervisors:[],supervisorsError:t.payload});default:return e}},projects:S,supervisor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(d.a)(Object(d.a)({},e),{},{supervisor:t.payload,supervisorError:null});case Z:return Object(d.a)(Object(d.a)({},e),{},{supervisor:[],supervisorError:t.payload});default:return e}},supervisorPurchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(d.a)(Object(d.a)({},e),{},{purchaseRequests:t.payload,purchaseRequestsError:null});case U:return Object(d.a)(Object(d.a)({},e),{},{purchaseRequests:[],purchaseRequestsError:t.payload});default:return e}},specificPurchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(d.a)(Object(d.a)({},e),{},{purchaseRequest:t.payload,purchaseRequestError:null});case M:return Object(d.a)(Object(d.a)({},e),{},{purchaseRequest:{},purchaseRequestError:t.payload});default:return e}},finStaff:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(d.a)(Object(d.a)({},e),{},{financeStaff:t.payload,financeStaffError:null});case ee:return Object(d.a)(Object(d.a)({},e),{},{financeStaff:[],financeStaffError:t.payload});default:return e}},CEO:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{CEO:t.payload,CEOError:null};case se:return{CEO:[],CEOError:t.payload};default:return e}},taxilogistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case C:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,logistics:t.payload,logisticsError:null});case q:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,logistics:{},logisticsError:t.payload});default:return e}},supervisortaxilogistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(d.a)(Object(d.a)({},e),{},{supervisorLogistics:t.payload,supervisorLogisticsError:null});case E:return Object(d.a)(Object(d.a)({},e),{},{supervisorLogistics:[],supervisorLogisticsError:t.payload});default:return e}},specifictaxilogistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(d.a)(Object(d.a)({},e),{},{logistic:t.payload,logisticError:null});case T:return Object(d.a)(Object(d.a)({},e),{},{logistic:{},logisticError:t.payload});default:return e}},BAR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case le:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,BAR:t.payload,BARError:null});case de:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,BAR:{},BARError:t.payload});default:return e}},sBAR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(d.a)(Object(d.a)({},e),{},{sBAR:t.payload,sBARError:null});case je:return Object(d.a)(Object(d.a)({},e),{},{sBAR:[],sBARError:t.payload});default:return e}},specificBAR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(d.a)(Object(d.a)({},e),{},{specificBAR:t.payload,specificBARError:null});case pe:return Object(d.a)(Object(d.a)({},e),{},{specificBAR:{},specificBARError:t.payload});default:return e}},sTAS:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(d.a)(Object(d.a)({},e),{},{supervisorTravelAuthorization:t.payload,supervisorTravelAuthorizationError:null});case me:return Object(d.a)(Object(d.a)({},e),{},{supervisorTravelAuthorization:[],supervisorTravelAuthorizationError:t.payload});default:return e}},specificTA:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(d.a)(Object(d.a)({},e),{},{travelAuthorization:t.payload,travelAuthorizationError:null});case ge:return Object(d.a)(Object(d.a)({},e),{},{travelAuthorization:{},travelAuthorizationError:t.payload});case ye:return Object(d.a)(Object(d.a)({},e),{},{other:t.payload,otherError:null});case _e:return Object(d.a)(Object(d.a)({},e),{},{other:[],otherError:t.payload});default:return e}},travelExpense:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(d.a)(Object(d.a)({},e),{},{travelExpense:t.payload,travelExpenseError:null});case Ne:return Object(d.a)(Object(d.a)({},e),{},{travelExpense:[],travelExpenseError:t.payload});default:return e}},TES:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(d.a)(Object(d.a)({},e),{},{TES:t.payload,TESError:null});case qe:return Object(d.a)(Object(d.a)({},e),{},{TES:{},TESError:t.payload});case De:return Object(d.a)(Object(d.a)({},e),{},{otherTES:t.payload,otherTESError:null});case Ee:return Object(d.a)(Object(d.a)({},e),{},{otherTES:[],otherTESError:t.payload});default:return e}},logo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(d.a)(Object(d.a)({},e),{},{logo:t.payload,logoError:null});case Pe:return Object(d.a)(Object(d.a)({},e),{},{logo:[],logoError:t.payload});default:return e}}}),Be=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),Ie=Object(i.createStore)(Fe,Be,Object(o.composeWithDevTools)(Object(i.applyMiddleware)(l.a)));Ie.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(s){console.log(s)}}(Ie.getState())}));var Me=Ie,ze=s(9),Ue=s(10),Ve=s(12),Ye=s(11),He=s(23),Ge=s(25),Ke=s(4),Xe=s.n(Ke);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Qe=function(){return function(e){Xe.a.get("ceo/").then((function(t){var s=t.data;e(function(e){return{type:te,payload:e}}(s))})).catch((function(t){var s=t.message;e(function(e){return{type:se,payload:e}}(s))}))}},We=function(e){return function(t){var s="financestaff/?staff=".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(function(e){return{type:$,payload:e}}(s))})).catch((function(e){var s=e.message;t(function(e){return{type:ee,payload:e}}(s))}))}},Je=function(){return function(e){Xe.a.get("accountcodes/").then((function(t){var s=t.data;e(function(e){return{type:K,payload:e}}(s))})).catch((function(t){var s=t.message;e(function(e){return{type:X,payload:e}}(s))}))}},Ze=function(){return function(e){Xe.a.get("supervisors/").then((function(t){var s=t.data;e(function(e){return{type:Q,payload:e}}(s))})).catch((function(t){var s=t.message;e(function(e){return{type:W,payload:e}}(s))}))}},$e=function(e){return function(t){var s="supervisors/?name=".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(function(e){return{type:J,payload:e}}(s))})).catch((function(e){var s=e.message;t(function(e){return{type:Z,payload:e}}(s))}))}},et=s(0),tt=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){var t=e.props.auth;if(t.isAuthenticated){var s=t.user.user.id;e.props.requestSupervisor(s)}},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.props.auth;if(e.isAuthenticated){var t=e.user.user,s=t.first_name,n=t.last_name;return Object(et.jsxs)("div",{children:[Object(et.jsx)("section",{id:"hero",children:Object(et.jsxs)("div",{className:"hero-container","data-aos":"fade-in",children:[Object(et.jsx)("h1",{children:"Welcome to Finance Reporting"}),Object(et.jsxs)("h2",{children:["Hello ",s," ",n,". You can now submit your documents online."]})]})}),Object(et.jsx)("main",{id:"main",children:Object(et.jsx)("section",{id:"features",className:"padd-section",children:Object(et.jsxs)("div",{className:"container","data-aos":"fade-up",children:[Object(et.jsxs)("div",{className:"section-title text-center",children:[Object(et.jsx)("h2",{children:" Finance and HR Documents."}),Object(et.jsx)("p",{className:"separator",children:"You can now submit your documents online."})]}),Object(et.jsxs)("div",{className:"row","data-aos":"fade-up","data-aos-delay":"100",children:[Object(et.jsx)("div",{className:"col-md-6 col-lg-3",children:Object(et.jsx)("div",{className:"feature-block",children:Object(et.jsxs)("a",{href:"/docs/businessadvancerequest",style:{textDecoration:"none"},children:[Object(et.jsx)("h4",{children:"Business Advance Request"}),Object(et.jsx)("p",{className:"lead",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})]})})}),Object(et.jsx)("div",{className:"col-md-6 col-lg-3",children:Object(et.jsx)("div",{className:"feature-block",children:Object(et.jsxs)("a",{href:"/docs/travelauthorization",style:{textDecoration:"none"},children:[Object(et.jsx)("h4",{children:"Travel Authorization Form"}),Object(et.jsx)("p",{className:"lead",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})]})})}),Object(et.jsx)("div",{className:"col-md-6 col-lg-3",children:Object(et.jsx)("div",{className:"feature-block",children:Object(et.jsxs)("a",{href:"/docs/taxilogistics",style:{textDecoration:"none"},children:[Object(et.jsx)("h4",{children:"Taxi Logistics"}),Object(et.jsx)("p",{className:"lead",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})]})})}),Object(et.jsx)("div",{className:"col-md-6 col-lg-3",children:Object(et.jsx)("div",{className:"feature-block",children:Object(et.jsxs)("a",{href:"/docs/purchaserequisition",style:{textDecoration:"none"},children:[Object(et.jsx)("h4",{children:"Purchase Requisition Form"}),Object(et.jsx)("p",{className:"lead",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})]})})}),Object(et.jsx)("div",{className:"col-md-6 col-lg-3",children:Object(et.jsx)("div",{className:"feature-block",children:Object(et.jsxs)("a",{href:"/",style:{textDecoration:"none"},children:[Object(et.jsx)("h4",{children:"Monthly Timesheet Forms"}),Object(et.jsx)("p",{className:"lead",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})]})})}),Object(et.jsx)("div",{className:"col-md-6 col-lg-3",children:Object(et.jsx)("div",{className:"feature-block",children:Object(et.jsxs)("a",{href:"/",style:{textDecoration:"none"},children:[Object(et.jsx)("h4",{children:"Leave Application Form"}),Object(et.jsx)("p",{className:"lead",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})]})})})]})]})})})]})}return Object(et.jsx)(Ge.a,{to:"/auth/login"})}}]),s}(n.Component),st=Object(r.b)((function(e){return{auth:e.auth}}),(function(e){return{requestSupervisor:function(t){return e($e(t))}}}))(tt),nt=s(16),ct=function(e){var t=e().auth.user.token,s={headers:{"Content-Type":"application/json"}};return t&&(s.headers.Authorization="Token ".concat(t)),s};Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/";var at=function(e,t){return function(s){s({type:h});var n={email:e,password:t};Xe.a.post("http://api-finance-docs.mhealthkenya.co.ke/auth/api/login/",n).then((function(e){var t=e.data;s(function(e){return{type:j,payload:e}}(t))})).catch((function(e){var t=e.message;s({type:u,payload:t})}))}},rt=function(){return function(e,t){e({type:p});Xe.a.post("auth/api/logout/",null,ct(t)).then((function(){e({type:b})})).catch((function(s){var n=s.message;console.log(ct(t)),e({type:O,payload:n})}))}},it=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={redirect:!1,email:"",password:""},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},n,c)))},e.handleLogin=function(t){t.preventDefault();var s=e.props.auth.error,n=e.state,c=n.email,a=n.password;e.props.userLogin(c,a),s||e.setState(Object(d.a)(Object(d.a)({},e.state),{},{redirect:!0}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){return this.props.auth.isAuthenticated?Object(et.jsx)(Ge.a,{to:"/"}):Object(et.jsx)("div",{className:"testbox container mt-3 mb-3",children:Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"Login to your account"})}),Object(et.jsxs)("div",{children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"email",children:[" ","Email",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"email",type:"email",name:"email",required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"password",children:[" ","Password",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"pasword",type:"password",name:"password",required:!0,onChange:this.handleChange})]})]}),Object(et.jsx)("div",{className:"btn-block",children:Object(et.jsx)("button",{onClick:this.handleLogin,children:"Login"})})]})})}}]),s}(n.Component),ot=Object(r.b)((function(e){return{auth:e.auth}}),(function(e){return{userLogin:function(t,s){return e(at(t,s))}}}))(it),lt=s(147);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var dt=function(){return function(e){Xe.a.get("departments/").then((function(t){var s=t.data;e(function(e){return{type:m,payload:e}}(s))})).catch((function(t){var s=t.message;e({type:f,payload:s})}))}};Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var ht=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={redirect:!1,first_name:"",last_name:"",email:"",staff_id:"",password:"",password2:"",signature:"",department:"",phone_number:"",loading:!1,error:null,departments:[]},e.componentDidMount=function(){Xe.a.get("departments/").then((function(t){var s=t.data;e.setState(Object(d.a)(Object(d.a)({},e.setState),{},{departments:s}))})),e.props.requestDepartments(),console.log(e.props.departments)},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},n,c))),console.log(e.state)},e.handleSignature=function(t){var s=t.target.name,n=t.target.files[0];e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},s,n)))},e.handleRegister=function(t){t.preventDefault();var s=e.state,n=s.first_name,c=s.last_name,a=s.email,r=s.phone_number,i=s.department,o=s.staff_id,l=s.password,h=s.password2,j=s.signature,u=new FormData;u.append("staff_id",o),u.append("password",l),u.append("password2",h),u.append("email",a),u.append("first_name",n),u.append("last_name",c),u.append("signature",j),u.append("phone_number",r),u.append("department",i),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{loading:!0})),console.log(e.state);Xe.a.post("http://127.0.0.1:8000/auth/api/register/",u).then((function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{loading:!1,redirect:!0}))})).catch((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{error:t.message,loading:!1}))}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.props,t=e.departments,s=e.auth,n=t.MHKdepartments,c=s.isAuthenticated,a=this.state,r=a.password,i=a.password2,o=a.redirect,l=a.loading,d=a.error;return Object(et.jsx)("div",{className:"testbox container",children:!o||l||d?c?Object(et.jsx)(Ge.a,{to:"/"}):Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"New Member Registration"})}),Object(et.jsxs)("div",{children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"fname",children:[" ","First Name",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"fname",type:"text",name:"first_name",required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"lname",children:[" ","Last Name",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"lname",type:"text",name:"last_name",required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"address1",children:["Staff ID",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"staff_id",type:"text",name:"staff_id",required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"address2",children:["Email ",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"email",type:"email",name:"email",required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"phone",children:["Phone Number",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"phone_number",type:"text",name:"phone_number",required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"department",children:["Department",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("select",{name:"department",onChange:this.handleChange,children:n.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.department},e.id)}))})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"signature",children:["Signature",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"signature",type:"file",name:"signature",required:!0,onChange:this.handleSignature})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"password",children:["Password",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"password",type:"password",name:"password",value:r,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"password2",children:["Confirm password",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"password2",type:"password",name:"password2",value:i,required:!0,onChange:this.handleChange})]})]}),!d&&l?Object(et.jsx)(lt.a,{}):d||l?null:Object(et.jsx)("div",{className:"btn-block",children:Object(et.jsx)("button",{onClick:this.handleRegister,children:"Register"})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})})}}]),s}(n.Component),jt=Object(r.b)((function(e){return{departments:e.departments,auth:e.auth}}),(function(e){return{requestDepartments:function(){return e(dt())}}}))(ht);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var ut=function(e){return{type:z,payload:e}},pt=function(e){return{type:U,payload:e}},bt=function(e,t,s,n,c,a){return function(r){var i={activity:e,description:t,amount:s,account_code:n,reviewing_supervisor:c,requested_by:a};Xe.a.post("purchaserequisition/",i).then((function(e){var t=e.data;r(function(e){return{type:F,payload:e}}(t))})).catch((function(e){var t=e.message;r(function(e){return{type:B,payload:e}}(t))}))}},Ot=function(e){return function(t){var s="purchaserequisition/?reviewing_supervisor=".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(ut(s))})).catch((function(e){var s=e.message;t(pt(s))}))}},vt=function(e){return function(t){var s="purchaserequisition/".concat(e,"/");Xe.a.get(s).then((function(e){var s=e.data;t(function(e){return{type:I,payload:e}}(s))})).catch((function(e){var s=e.message;t(function(e){return{type:M,payload:e}}(s))}))}},xt=function(e){var t="purchaserequisition/".concat(e,"/"),s={supervisor_approved:!0,date_supervisor_review:new Date};Xe.a.patch(t,s).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.message)}))},mt=function(){return function(e){Xe.a.get("purchaserequisition/?supervisor_approved=true&finance_approved=false").then((function(t){var s=t.data;e(ut(s))})).catch((function(t){var s=t.message;e(pt(s))}))}},ft=function(e){return function(t){var s="purchaserequisition/?requested_by=".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(ut(s))})).catch((function(e){var s=e.message;t(pt(s))}))}},gt=s(146),yt=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={requested_by:null,activity:"",description:"",amount:"",reviewing_supervisor:"",show:!1},e.componentDidMount=function(){e.props.requestAccountCodes(),e.props.requestSupervisors();var t=e.props.auth;if(t.isAuthenticated){var s=t.user.user.id;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{requested_by:s}))}},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},n,c)))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{activity:"",description:"",amount:"",reviewing_supervisor:"",show:!1}))},e.handleSubmit=function(t){t.preventDefault();var s=e.props.accounts.accountCodes[0].id,n=e.state,c=n.activity,a=n.description,r=n.amount,i=n.reviewing_supervisor,o=n.requested_by;e.props.makePurchaseRequest(c,a,r,s,i,o),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.props,t=e.auth,s=e.makePurchase.purchaseRequistionError,n=t.isAuthenticated,c=this.state,a=c.show,r=c.description,i=c.amount,o=c.activity,l=this.props.supervisors.supervisors;return Object(et.jsx)("div",{className:"testbox container mt-3 mb-3",children:n?Object(et.jsx)("form",{children:Object(et.jsxs)("div",{children:[s?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"red"},children:"Oops!"}),visible:a,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsxs)("p",{className:"lead",style:{color:"red"},children:["We encountered a problem. Please try again.",Object(et.jsx)("br",{}),"If the problem persists please contact support."]})}):a&&!s?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"blue"},children:"Success"}),visible:a,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsx)("p",{className:"lead",children:"Purchase Requisition successfully submitted"})}):null,Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"Purchase Requisition"})}),Object(et.jsxs)("div",{children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"activity",children:[" ","Activity",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"activity",type:"text",name:"activity",value:o,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"description",children:[" ","Description",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("textarea",{id:"description",type:"date",name:"description",value:r,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Amount in Ksh",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"amount",type:"number",name:"amount",value:i,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Supervisor",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsxs)("select",{name:"reviewing_supervisor",onChange:this.handleChange,children:[Object(et.jsx)("option",{children:"Select your supervisor"}),l.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.supervisor_name},e.id)}))]})]})]}),Object(et.jsx)("div",{className:"btn-block",children:Object(et.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})})]})}):Object(et.jsx)(Ge.a,{to:"/auth/login"})})}}]),s}(n.Component),_t=Object(r.b)((function(e){return{auth:e.auth,accounts:e.accounts,supervisors:e.supervisors,makePurchase:e.makePurchase}}),(function(e){return{makePurchaseRequest:function(t,s,n,c,a,r){return e(bt(t,s,n,c,a,r))},requestAccountCodes:function(){return e(Je())},requestSupervisors:function(){return e(Ze())}}}))(yt),At=s(5),wt=s(20),St=s.n(wt);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Nt=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,showDisapprove:!1,approved:!0,supervisor_comments:""},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e.handleView=function(t){e.props.getSpecificPurchaseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleDisApproveView=function(t){e.props.getSpecificPurchaseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!0}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showDisapprove:!1}))},e.handleApprove=function(t){var s="purchaserequisition/".concat(t,"/"),n={supervisor_approved:!0,date_supervisor_review:new Date,supervisor_comments:null};Xe.a.patch(s,n).then((function(t){var s=e.props,n=s.supervisor,c=s.auth.user.user.id,a=n.supervisor[0].id;e.props.getPurchaseData(a);var r=t.data.id;console.log(r);var i="SAPR/?requisition=".concat(r);Xe.a.get(i).then((function(e){try{var t=e.data[0].id,s="SAPR/".concat(t,"/");Xe.a.patch(s,{supervisor_approved:!0,supervisor_disapproved:!1,disapproval_message:null}).then((function(e){console.log(e.data)}))}catch(i){console.log(i.message);var n={supervisor_approved:!0,owner:c,requisition:r,supervisor:a};Xe.a.post("SAPR/?",n).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.message)}))}}))})).catch((function(e){console.log(e.message)}))},e.handleDisApprove=function(t){var s=e.state.supervisor_comments,n="purchaserequisition/".concat(t,"/"),c={supervisor_approved:!1,date_supervisor_review:null,supervisor_comments:s};Xe.a.patch(n,c).then((function(t){var n=e.props,c=n.supervisor,a=n.auth.user.user.id,r=c.supervisor[0].id,i=t.data.id,o="SAPR/?requisition=".concat(i);Xe.a.get(o).then((function(t){try{var n=t.data[0].id,c="SAPR/".concat(n,"/"),o={supervisor_disapproved:!0,supervisor_approved:!1,owner:a,requisition:i,supervisor:r,disapproval_message:s};Xe.a.patch(c,o).then((function(){e.props.getPurchaseData(r),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))}))}catch(h){var l={supervisor_disapproved:!0,supervisor_approved:!1,owner:a,requisition:i,supervisor:r,disapproval_message:s};Xe.a.post("SAPR/",l).then((function(){e.props.getPurchaseData(r),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message)}))}}))})).catch((function(e){console.log(e.message)}))},e.componentDidMount=function(){var t=e.props.supervisor.supervisor[0].id;e.props.getPurchaseData(t)},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this,s=this.state,n=s.show,c=s.showDisapprove,a=this.props,r=a.purchases,i=a.purchase,o=a.auth,l=r.purchaseRequests,d=i.purchaseRequest,h=o.isAuthenticated;return Object(et.jsxs)("div",{className:"testbox container",children:[Object(et.jsxs)(At.a,{show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[d.requester_name,"'s Request"]})}),Object(et.jsx)(At.a.Body,{children:Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Date Requested"}),Object(et.jsx)("th",{children:"Activity"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Description"})]})}),Object(et.jsx)("tbody",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:St()(d.date_requested).format("YYYY - MM - DD")}),Object(et.jsx)("td",{children:d.activity}),Object(et.jsx)("td",{children:d.amount}),Object(et.jsx)("td",{children:d.description})]})})]})})}),Object(et.jsx)(At.a.Footer,{children:Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"})})]}),Object(et.jsxs)(At.a,{show:c,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[d.requester_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsx)("p",{className:"lead",children:"Please give a reason for disapproving this request..."}),Object(et.jsx)("textarea",{name:"supervisor_comments",rows:4,onChange:this.handleChange}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"This is to separate buttons"}),Object(et.jsx)("button",{className:"btn-block btn-success btn-sm",style:{flex:1},onClick:this.handleClose,children:"Cancel"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"is"}),Object(et.jsx)("button",{className:"btn-block btn-danger sm",style:{flex:1},onClick:function(){return e.handleDisApprove(d.id)},children:"Disapprove"})]})]})]}),h?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"My pending/approved purchase requisitions"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Requested By"}),Object(et.jsx)("th",{children:"Activity"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:l.map((function(s){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:s.requester_name}),Object(et.jsx)("td",{children:s.activity}),Object(et.jsx)("td",{children:s.amount}),Object(et.jsxs)("td",{className:"flex-wrapper",children:[Object(et.jsx)("div",{className:"btn btn-info",style:{flex:1},onClick:function(){return e.handleView(s.id)},children:"View"})," ",s.supervisor_approved?Object(et.jsx)("div",{className:"btn btn-secondary disabled",style:{flex:2},onClick:function(){return t.handleApprove(s.id)},children:"Approved"}):Object(et.jsx)("div",{className:"btn btn-success",onClick:function(){return t.handleApprove(s.id)},children:"Approve"})," ",s.supervisor_approved?null:s.supervisor_comments?Object(et.jsx)("div",{className:"btn btn-secondary disabled",style:{flex:1},onClick:function(){return e.handleDisApproveView(s.id)},children:"Disapproved"}):Object(et.jsx)("div",{className:"btn btn-danger",style:{flex:1},onClick:function(){return e.handleDisApproveView(s.id)},children:"Disapprove"})]})]},s.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})}}]),s}(n.Component),Ct=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,purchases:e.supervisorPurchase,purchase:e.specificPurchase}}),(function(e){return{requestSupervisor:function(t){return e($e(t))},getPurchaseData:function(t){return e(Ot(t))},getSpecificPurchaseData:function(t){return e(vt(t))},supervisorApprove:function(t){return e(xt(t))}}}))(Nt);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var qt=function(){return function(e){Xe.a.get("mhealthimages/?imagename=mhealthlogo").then((function(t){var s=t.data;e(function(e){return{type:ke,payload:e}}(s))})).catch((function(t){var s=t.message;e({type:Pe,payload:s})}))}};Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Dt=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,showDisapprove:!1,approved:!0,finance_comments:""},e.componentDidMount=function(){var t=e.props.auth;if(t.isAuthenticated){var s=t.user.user.id;e.props.requestFinanceStaff(s),e.props.financeApprove(),e.props.requestLogo()}},e.handleView=function(t){e.props.getSpecificPurchaseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleDisApproveView=function(t){e.props.getSpecificPurchaseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!0}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showDisapprove:!1}))},e.handleApprove=function(t){var s=e.props.finStaff.financeStaff[0].id,n="purchaserequisition/".concat(t,"/"),c={reviewing_finance_officer:s,finance_approved:!0,finance_comments:null,date_finace_officer_review:new Date};Xe.a.patch(n,c).then((function(t){console.log(t.data);var s=t.data.id,n=e.props,c=n.finStaff,a=n.auth,r=c.financeStaff[0].id,i=a.user.user.id,o="SAPR/?requisition=".concat(s);Xe.a.get(o).then((function(t){console.log(t.data);var s=t.data[0].id,n="FAPR/?requisition=".concat(s);Xe.a.get(n).then((function(t){try{var n=t.data[0].id,c="FAPR/".concat(n,"/"),a={finance_approved:!0,finance_disapproved:!1,disapproval_message:null,owner:i,finance_staff:r};Xe.a.patch(c,a).then((function(){e.props.financeApprove()}))}catch(l){console.log(l.message);var o={finance_approved:!0,finance_disapproved:!1,disapproval_message:null,owner:i,requisition:s,finance_staff:r};Xe.a.post("FAPR/",o).then((function(){e.props.financeApprove()})).catch((function(e){console.log(e.message),console.log(o)}))}}))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))},e.handleDisApprove=function(t){var s=e.state.finance_comments,n=e.props.finStaff.financeStaff[0].id,c="purchaserequisition/".concat(t,"/"),a={reviewing_finance_officer:n,finance_approved:!1,finance_comments:s,date_finace_officer_review:null};Xe.a.patch(c,a).then((function(t){console.log(t.data);var n=t.data.id,c=e.props,a=c.finStaff,r=c.auth,i=a.financeStaff[0].id,o=r.user.user.id,l="SAPR/?requisition=".concat(n);Xe.a.get(l).then((function(t){console.log(t.data);var n=t.data[0].id,c="FAPR/?requisition=".concat(n);Xe.a.get(c).then((function(t){try{var c=t.data[0].id,a="FAPR/".concat(c,"/"),r={finance_approved:!1,finance_disapproved:!0,owner:o,requisition:c,finance_staff:i,disapproval_message:s};Xe.a.patch(a,r).then((function(){e.props.financeApprove(),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))}))}catch(h){console.log(h.message);var l={finance_approved:!1,finance_disapproved:!0,owner:o,requisition:n,finance_staff:i,disapproval_message:s};Xe.a.post("FAPR/",l).then((function(){e.props.financeApprove(),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message),console.log(l)}))}}))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this,s=this.state,n=s.show,c=s.showDisapprove,a=this.props,r=a.purchases,i=a.purchase,o=a.auth,l=a.logo[0].image,d=r.purchaseRequests,h=i.purchaseRequest,j=o.isAuthenticated;return Object(et.jsxs)("div",{className:"testbox container",children:[Object(et.jsxs)(At.a,{show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)("br",{}),Object(et.jsxs)("div",{style:{textAlign:"center"},children:[Object(et.jsx)("img",{src:l,width:500,height:100,alt:"logo"}),Object(et.jsx)("br",{}),Object(et.jsx)("h2",{children:"Purchase Requisition Form"})]}),Object(et.jsx)(At.a.Body,{children:Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Date Requested"}),Object(et.jsx)("th",{children:"Activity"}),Object(et.jsx)("th",{children:"Description"}),Object(et.jsx)("th",{children:"Account Code"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Supervisor"}),Object(et.jsx)("th",{children:"CEO comments"})]})}),Object(et.jsx)("tbody",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:St()(h.date_requested).format("YYYY - MM - DD")}),Object(et.jsx)("td",{children:h.activity}),Object(et.jsx)("td",{children:h.description}),Object(et.jsx)("td",{children:h.account_code_value}),Object(et.jsx)("td",{children:h.amount}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:h.supervisor_signature,alt:"signature",width:50,height:50})}),h.ceo_comments?Object(et.jsx)("td",{style:{color:"red"},children:h.ceo_comments}):Object(et.jsx)("td",{children:"N/A"})]})})]})})}),Object(et.jsx)(At.a.Footer,{children:Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"})})]}),Object(et.jsxs)(At.a,{show:c,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[h.requester_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsx)("p",{className:"lead",children:"Please give a reason for disapproving this request..."}),Object(et.jsx)("textarea",{name:"finance_comments",rows:4,onChange:this.handleChange}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"This is to separate buttons"}),Object(et.jsx)("button",{className:"btn-block btn-success btn-sm",style:{flex:1},onClick:this.handleClose,children:"Cancel"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"is"}),Object(et.jsx)("button",{className:"btn-block btn-danger sm",onClick:function(){return e.handleDisApprove(h.id)},style:{flex:1},children:"Disapprove"})]})]})]}),j?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Purchase requests pending finance approval"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Staff"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Supervisor"}),Object(et.jsx)("th",{children:"Status"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:d.map((function(s){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:s.requester_name}),Object(et.jsx)("td",{children:s.amount}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:s.supervisor_signature,width:50,height:50,alt:"/"})}),s.ceo_comments?Object(et.jsx)("td",{style:{color:"red"},children:"Rejected"}):s.ceo_approved?Object(et.jsx)("td",{style:{color:"green"},children:"Approved"}):Object(et.jsx)("td",{style:{color:"#ffbb00"},children:"Under review"}),Object(et.jsxs)("td",{children:[Object(et.jsx)("div",{className:"btn btn-info btn-sm",onClick:function(){return e.handleView(s.id)},children:"View"}),Object(et.jsx)("div",{className:"btn btn-success btn-sm",style:{flex:1},onClick:function(){return t.handleApprove(s.id)},children:"Approve"}),s.finance_comments?Object(et.jsx)("div",{className:"btn btn-danger btn-sm disabled",style:{flex:1},children:"Disapproved"}):Object(et.jsx)("div",{className:"btn btn-danger btn-sm",onClick:function(){return t.handleDisApproveView(s.id)},children:"Disapprove"})]})]},s.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})}}]),s}(n.Component),Et=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,purchases:e.supervisorPurchase,purchase:e.specificPurchase,finStaff:e.finStaff,logo:e.logo.logo}}),(function(e){return{financeApprove:function(){return e(mt())},getSpecificPurchaseData:function(t){return e(vt(t))},requestFinanceStaff:function(t){return e(We(t))},requestLogo:function(){return e(qt())}}}))(Dt);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Rt=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,showDisapprove:!1,ceo_comments:null},e.componentDidMount=function(){var t=e.props.auth.user.user.id;e.props.requestFinanceStaff(t),e.props.requestCEO(),e.props.CEOApprove(),console.log(e.props)},e.handleView=function(t){e.props.getSpecificPurchaseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e.handleDisApproveView=function(t){e.props.getSpecificPurchaseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!0}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showDisapprove:!1}))},e.handleApprove=function(t){var s=e.props,n=s.CEO,c=s.auth.user.user.id,a=n.CEO[0].id,r="purchaserequisition/".concat(t,"/"),i={finance_approved:!0,ceo_approval:a,ceo_approved:!0,ceo_comments:null,date_ceo_approval:new Date};Xe.a.patch(r,i).then((function(t){var s=t.data.id,n="SAPR/?requisition=".concat(s);Xe.a.get(n).then((function(t){console.log(t.data);var s=t.data[0].id,n="FAPR/?requisition=".concat(s);Xe.a.get(n).then((function(t){var s=t.data[0].id,n="CAPR/?requisition=".concat(s);Xe.a.get(n).then((function(t){try{var n=t.data[0].id,r="CAPR/".concat(n,"/"),i={ceo_approved:!0,ceo_disapproved:!1,owner:c,requisition:s,ceo:a,disapproval_message:null};Xe.a.patch(r,i).then((function(){e.props.CEOApprove()})).catch((function(e){console.log(e.message)}))}catch(l){var o={ceo_approved:!0,ceo_disapproved:!1,owner:c,requisition:s,ceo:a,disapproval_message:null};Xe.a.post("CAPR/",o).then((function(){e.props.CEOApprove()})).catch((function(e){console.log(e.message)}))}}))}))}))})).catch((function(e){console.log(e.message)}))},e.handleDisApprove=function(t){var s=e.props,n=s.CEO,c=s.auth,a=e.state.ceo_comments,r=c.user.user.id,i=n.CEO[0].id,o="purchaserequisition/".concat(t,"/"),l={finance_approved:!1,ceo_approval:i,ceo_approved:!1,ceo_comments:a,date_ceo_approval:null};Xe.a.patch(o,l).then((function(t){var s=t.data.id,n="SAPR/?requisition=".concat(s);Xe.a.get(n).then((function(t){console.log(t.data);var s=t.data[0].id,n="FAPR/?requisition=".concat(s);Xe.a.get(n).then((function(t){var s=t.data[0].id,n="CAPR/?requisition=".concat(s);Xe.a.get(n).then((function(t){try{var n=t.data[0].id,c="CAPR/".concat(n,"/"),o={ceo_approved:!1,ceo_disapproved:!0,owner:r,requisition:s,ceo:i,disapproval_message:a};Xe.a.patch(c,o).then((function(){e.props.CEOApprove(),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message)}))}catch(h){var l={ceo_approved:!1,ceo_disapproved:!0,owner:r,requisition:s,ceo:i,disapproval_message:a};Xe.a.post("CAPR/",l).then((function(){e.props.CEOApprove(),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message)}))}}))}))}))})).catch((function(e){console.log(e.message)}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this,s=this.state,n=s.show,c=s.showDisapprove,a=this.props,r=a.purchases,i=a.purchase,o=a.auth,l=r.purchaseRequests,d=i.purchaseRequest,h=o.isAuthenticated;return Object(et.jsxs)("div",{className:"testbox container",children:[Object(et.jsxs)(At.a,{show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,onClick:this.handleClose,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[d.requester_name,"'s Request"]})}),Object(et.jsx)(At.a.Body,{children:Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Date Requested"}),Object(et.jsx)("th",{children:"Activity"}),Object(et.jsx)("th",{children:"Description"}),Object(et.jsx)("th",{children:"Account Code"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Supervisor"}),Object(et.jsx)("th",{children:"Finance"})]})}),Object(et.jsx)("tbody",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:St()(d.date_requested).format("YYYY - MM - DD")}),Object(et.jsx)("td",{children:d.activity}),Object(et.jsx)("td",{children:d.description}),Object(et.jsx)("td",{children:d.account_code_value}),Object(et.jsx)("td",{children:d.amount}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:d.supervisor_signature,alt:"signature",width:50,height:50})}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:d.finance_officer_signature,alt:"signature",width:50,height:50})})]})})]})})}),Object(et.jsx)(At.a.Footer,{children:Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"})})]}),Object(et.jsxs)(At.a,{show:c,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[d.requester_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsx)("p",{className:"lead",children:"Please give a reason for disapproving this request..."}),Object(et.jsx)("textarea",{name:"ceo_comments",rows:4,onChange:this.handleChange}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"This is to separate buttons"}),Object(et.jsx)("button",{className:"btn-block btn-success btn-sm",style:{flex:1},onClick:this.handleClose,children:"Cancel"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"is"}),Object(et.jsx)("button",{className:"btn-block btn-danger sm",style:{flex:1},onClick:function(){return e.handleDisApprove(d.id)},children:"Disapprove"})]})]})]}),h?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Purchase requests pending CEO approval"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Requested By"}),Object(et.jsx)("th",{children:"Activity"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Approved"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:l.map((function(s){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:s.requester_name}),Object(et.jsx)("td",{children:s.activity}),Object(et.jsx)("td",{children:s.amount}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:s.supervisor_signature,alt:"signature",width:50,height:50})}),Object(et.jsxs)("td",{children:[Object(et.jsx)("div",{className:"btn btn-info btn-sm",onClick:function(){return e.handleView(s.id)},children:"View"}),Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:function(){return t.handleApprove(s.id)},children:"Approve"}),s.ceo_comments?Object(et.jsx)("div",{className:"btn btn-danger btn-sm disabled",children:"Disapproved"}):Object(et.jsx)("div",{className:"btn btn-danger btn-sm",onClick:function(){return e.handleDisApproveView(s.id)},children:"Disapprove"})]})]},s.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})}}]),s}(n.Component),Tt=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,purchases:e.supervisorPurchase,purchase:e.specificPurchase,finStaff:e.finStaff,CEO:e.CEO}}),(function(e){return{CEOApprove:function(){return e((function(e){Xe.a.get("purchaserequisition/?supervisor_approved=true&finance_approved=true&ceo_approved=false").then((function(t){var s=t.data;e(ut(s))})).catch((function(t){var s=t.message;e(pt(s))}))}))},getSpecificPurchaseData:function(t){return e(vt(t))},requestFinanceStaff:function(t){return e(We(t))},requestCEO:function(){return e(Qe())}}}))(Rt);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var kt=function(){return function(e){Xe.a.get("projects/").then((function(t){var s=t.data;e(function(e){return{type:_,payload:e}}(s))})).catch((function(t){var s=t.message;e({type:A,payload:s})}))}};Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Pt=function(e,t,s,n,c,a){return function(r){r({type:oe});var i={staff:e,amount:t,description:s,account:n,project:c,supervisor:a};Xe.a.post("businessadvancerequest/",i).then((function(e){var t=e.data;r(function(e){return{type:le,payload:e}}(t))})).catch((function(e){var t=e.message;r(function(e){return{type:de,payload:e}}(t))}))}},Lt=function(e){return{type:he,payload:e}},Ft=function(e){return{type:je,payload:e}},Bt=function(e){return{type:ue,payload:e}},It=function(e){return{type:pe,payload:e}},Mt=function(e){return function(t){var s="businessadvancerequest/".concat(e,"/");Xe.a.get(s).then((function(e){var s=e.data;t(Bt(s))})).catch((function(e){var s=e.message;t(It(s))}))}},zt=function(){return function(e){Xe.a.get("businessadvancerequest/?approved=true").then((function(t){var s=t.data;e(Lt(s))})).catch((function(t){var s=t.message;e(Ft(s))}))}},Ut=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={amount:null,description:"",project:null,supervisor:null,show:!1},e.componentDidMount=function(){e.props.requestAccountCodes(),e.props.requestProjects(),e.props.requestSupervisors()},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{amount:"",description:"",project:null,supervisor:null,show:!1}))},e.handleSubmit=function(t){t.preventDefault();var s=e.props,n=s.accounts,c=s.auth,a=n.accountCodes[1].id,r=c.user.user.id,i=e.state,o=i.description,l=i.amount,h=i.project,j=i.supervisor;e.props.makeBusinessAdvanceRequest(r,l,o,a,h,j),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.props,t=e.auth,s=e.projects,n=e.supervisors,c=e.BAR.BARError,a=this.state,r=a.show,i=a.description,o=a.amount,l=s.MHKprojects,d=t.isAuthenticated;return Object(et.jsx)("div",{className:"testbox container mt-3 mb-3",children:d?Object(et.jsx)("form",{children:Object(et.jsxs)("div",{children:[c?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"red"},children:"Oops!"}),visible:r,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsxs)("p",{className:"lead",style:{color:"red"},children:["We encountered a problem. Please try again.",Object(et.jsx)("br",{}),"If the problem persists please contact support."]})}):r&&!c?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"blue"},children:"Success"}),visible:r,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsx)("p",{className:"lead",children:"Business Advance successfully submitted"})}):null,Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"Business Advance Request"})}),Object(et.jsxs)("div",{children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"description",children:[" ","Description",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("textarea",{id:"description",type:"text",name:"description",value:i,onChange:this.handleChange,required:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Amount in Ksh",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"amount",type:"number",name:"amount",value:o,onChange:this.handleChange,required:!0})]})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"project",children:[" ","Project",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsxs)("select",{name:"project",onChange:this.handleChange,children:[Object(et.jsx)("option",{children:"Select project"}),l.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.project},e.id)}))]})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"supervisor",children:[" ","Supervisor",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsxs)("select",{name:"supervisor",onChange:this.handleChange,children:[Object(et.jsx)("option",{children:"Select supervisor"}),n.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.supervisor_name},e.id)}))]})]}),Object(et.jsx)("div",{className:"btn-block",children:Object(et.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})})]})}):Object(et.jsx)(Ge.a,{to:"/auth/login"})})}}]),s}(n.Component),Vt=Object(r.b)((function(e){return{auth:e.auth,departments:e.departments,supervisors:e.supervisors.supervisors,projects:e.projects,accounts:e.accounts,BAR:e.BAR}}),(function(e){return{requestAccountCodes:function(){return e(Je())},requestSupervisors:function(){return e(Ze())},requestProjects:function(){return e(kt())},makeBusinessAdvanceRequest:function(t,s,n,c,a,r){return e(Pt(t,s,n,c,a,r))}}}))(Ut);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Yt=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,showDisapprove:!1,approved:!0,supervisor_comment:""},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e.handleView=function(t){e.props.getSpecificBARData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleDisApproveView=function(t){e.props.getSpecificBARData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!0}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showDisapprove:!1}))},e.handleApprove=function(t){var s="businessadvancerequest/".concat(t,"/");Xe.a.patch(s,{approved:!0,supervisor_comment:null}).then((function(t){var s=e.props,n=s.supervisor,c=s.auth.user.user.id,a=n.supervisor[0].id,r=t.data.id;console.log(r);var i="businessadvancerequestsupervisor/?request=".concat(r);Xe.a.get(i).then((function(t){try{var s=t.data[0].id,n="businessadvancerequestsupervisor/".concat(s,"/");Xe.a.patch(n,{approved:!0}).then((function(t){console.log(t.data),e.props.requestSupervisorBusinessAdvanceRequest(a)}))}catch(o){console.log(o.message);var i={approved:!0,owner:c,request:r};Xe.a.post("businessadvancerequestsupervisor/",i).then((function(t){console.log(t.data),e.props.requestSupervisorBusinessAdvanceRequest(a)})).catch((function(e){console.log(e.message),console.log(i)}))}}))})).catch((function(e){console.log(e.message)}))},e.handleDisApprove=function(t){var s=e.state.supervisor_comment,n="businessadvancerequest/".concat(t,"/"),c={approved:!1,supervisor_comment:s};Xe.a.patch(n,c).then((function(t){var s=e.props,n=s.supervisor,c=s.auth.user.user.id,a=n.supervisor[0].id,r=t.data.id;console.log(t.data);var i="businessadvancerequestsupervisor/?request=".concat(r);Xe.a.get(i).then((function(t){try{console.log(t.data);var s=t.data[0].id,n="businessadvancerequestsupervisor/".concat(s,"/");Xe.a.patch(n,{approved:!1}).then((function(t){console.log(t.data),e.props.requestSupervisorBusinessAdvanceRequest(a),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))}))}catch(o){console.log(o.message);var i={approved:!1,owner:c,request:r};Xe.a.post("businessadvancerequestsupervisor/",i).then((function(t){console.log(t.data),e.props.requestSupervisorBusinessAdvanceRequest(a),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message),console.log(i)}))}}))})).catch((function(e){console.log(e.message)}))},e.componentDidMount=function(){var t=e.props.supervisor.supervisor[0].id;e.props.requestSupervisorBusinessAdvanceRequest(t)},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this,s=this.state,n=s.show,c=s.showDisapprove,a=this.props,r=a.auth,i=a.sBAR,o=a.specificBAR,l=r.isAuthenticated;return Object(et.jsxs)("div",{className:"testbox container",children:[Object(et.jsxs)(At.a,{show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[o.requester_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Date: "}),St()(o.date).format("YYYY - MM - DD")]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Description: "}),o.description]})]}),Object(et.jsx)(At.a.Footer,{children:Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"})})]}),Object(et.jsxs)(At.a,{show:c,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[o.requester_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsx)("p",{className:"lead",children:"Please give a reason for disapproving this request..."}),Object(et.jsx)("textarea",{name:"supervisor_comment",rows:4,onChange:this.handleChange}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"This is to separate buttons"}),Object(et.jsx)("button",{className:"btn-block btn-success btn-sm",style:{flex:1},onClick:this.handleClose,children:"Cancel"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"is"}),Object(et.jsx)("button",{className:"btn-block btn-danger sm",style:{flex:1},onClick:function(){return e.handleDisApprove(o.id)},children:"Disapprove"})]})]})]}),l?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Pending/approved business advance requests"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Requested By"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:i.map((function(s){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:s.requester_name}),Object(et.jsx)("td",{children:s.amount}),Object(et.jsxs)("td",{className:"flex-wrapper",children:[Object(et.jsx)("div",{className:"btn btn-info",style:{flex:1},onClick:function(){return e.handleView(s.id)},children:"View"})," ",s.approved?Object(et.jsx)("div",{className:"btn btn-secondary disabled",style:{flex:2},onClick:function(){return t.handleApprove(s.id)},children:"Approved"}):Object(et.jsx)("div",{className:"btn btn-success",onClick:function(){return t.handleApprove(s.id)},children:"Approve"})," ",s.approved?null:s.supervisor_comment?Object(et.jsx)("div",{className:"btn btn-secondary disabled",style:{flex:1},onClick:function(){return e.handleDisApproveView(s.id)},children:"Disapproved"}):Object(et.jsx)("div",{className:"btn btn-danger",style:{flex:1},onClick:function(){return e.handleDisApproveView(s.id)},children:"Disapprove"})]})]},s.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})}}]),s}(n.Component),Ht=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,purchases:e.supervisorPurchase,purchase:e.specificPurchase,sBAR:e.sBAR.sBAR,specificBAR:e.specificBAR.specificBAR}}),(function(e){return{requestSupervisor:function(t){return e($e(t))},getPurchaseData:function(t){return e(Ot(t))},getSpecificPurchaseData:function(t){return e(vt(t))},supervisorApprove:function(t){return e(xt(t))},requestSupervisorBusinessAdvanceRequest:function(t){return e(function(e){return function(t){var s="businessadvancerequest/?supervisor=".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(Lt(s))})).catch((function(e){var s=e.message;t(Ft(s))}))}}(t))},getSpecificBARData:function(t){return e(Mt(t))}}}))(Yt);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Gt=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,showDisapprove:!1,approved:!0,finance_comment:""},e.componentDidMount=function(){var t=e.props.auth;if(t.isAuthenticated){var s=t.user.user.id;e.props.requestFinanceStaff(s),e.props.BARFinanceApprove(),e.props.requestLogo()}},e.handleView=function(t){e.props.getSpecificBARData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleDisApproveView=function(t){e.props.getSpecificPurchaseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!0}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showDisapprove:!1}))},e.handleApprove=function(t){var s=e.props.finStaff.financeStaff[0].id,n="businessadvancerequest/".concat(t,"/"),c={finance_staff:s,finance_reviewed:!0,finance_comment:null};Xe.a.patch(n,c).then((function(t){console.log(t.data);var s=t.data.id,n=e.props.auth.user.user.id,c="businessadvancerequestsupervisor/?request=".concat(s);Xe.a.get(c).then((function(t){console.log(t.data);var s=t.data[0].id,c="businessadvancerequestfinance/?request=".concat(s);Xe.a.get(c).then((function(t){try{var c=t.data[0].id,a="businessadvancerequestfinance/".concat(c,"/"),r={approved:!0,owner:n};Xe.a.patch(a,r).then((function(){e.props.BARFinanceApprove()}))}catch(o){console.log(o.message);var i={approved:!0,owner:n,request:s};Xe.a.post("businessadvancerequestfinance/",i).then((function(){e.props.BARFinanceApprove()})).catch((function(e){console.log(e.message),console.log(i)}))}}))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))},e.handleDisApprove=function(t){var s=e.state.finance_comment,n=e.props.finStaff.financeStaff[0].id,c="businessadvancerequest/".concat(t,"/"),a={finance_staff:n,finance_reviewed:!1,finance_comment:s};Xe.a.patch(c,a).then((function(t){console.log(t.data);var s=t.data.id,n=e.props.auth.user.user.id,c="businessadvancerequestsupervisor/?request=".concat(s);Xe.a.get(c).then((function(t){console.log(t.data);var s=t.data[0].id,c="businessadvancerequestfinance/?request=".concat(s);Xe.a.get(c).then((function(t){try{var c=t.data[0].id,a="businessadvancerequestfinance/".concat(c,"/"),r={approved:!1,owner:n};Xe.a.patch(a,r).then((function(){e.props.BARFinanceApprove(),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showDisapprove:!1}))}))}catch(o){console.log(o.message);var i={approved:!1,owner:n,request:s};Xe.a.post("businessadvancerequestfinance/",i).then((function(){e.props.BARFinanceApprove(),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showDisapprove:!1}))})).catch((function(e){console.log(e.message),console.log(i)}))}}))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))},e.printDiv=function(e){var t=document.getElementById(e).innerHTML,s=document.body.innerHTML;document.body.innerHTML=t,window.print(),window.location.reload(),document.body.innerHTML=s},e.handleDownload=function(){e.printDiv("report"),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this,s=this.state,n=s.show,c=s.showDisapprove,a=this.props,r=a.auth,i=a.sBAR,o=a.specificBAR,l=a.logo[0].image,d=r.isAuthenticated;return Object(et.jsxs)("div",{className:"testbox container",children:[Object(et.jsxs)(At.a,{show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsxs)("div",{id:"report",children:[Object(et.jsx)("br",{}),Object(et.jsxs)("div",{style:{textAlign:"center"},children:[Object(et.jsx)("img",{src:l,width:500,height:100,alt:"logo"}),Object(et.jsx)("br",{}),Object(et.jsx)("h2",{children:"Business Advance Report"})]}),Object(et.jsx)(At.a.Body,{children:Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Department"}),Object(et.jsx)("td",{children:o.department_name}),Object(et.jsx)("th",{children:"Date Submitted"}),Object(et.jsx)("td",{children:St()(o.date).format("YYYY - MM - DD")})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Amount Requested"}),Object(et.jsx)("td",{children:o.amount}),Object(et.jsx)("th",{children:"Account Number"}),Object(et.jsx)("td",{children:o.account_code_value})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Requested by"}),Object(et.jsxs)("td",{children:[o.requester_name," ",Object(et.jsx)("img",{src:o.staff_signature,alt:"signature is here",width:50,height:50})]}),Object(et.jsx)("th",{children:"Project"}),Object(et.jsxs)("td",{children:[o.project_name," "]})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Description"}),Object(et.jsx)("td",{children:o.description})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Approved by"}),Object(et.jsx)("td",{children:o.supervisor_name}),Object(et.jsx)("th",{children:"Signature"}),Object(et.jsxs)("td",{children:[" ",Object(et.jsx)("img",{src:o.supervisor_signature,alt:"supervisor signature",width:50,height:50})]})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Received by"}),Object(et.jsxs)("td",{children:[o.finance_name," "]}),Object(et.jsx)("th",{children:"Signature"}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:o.finance_signature,alt:"finance signature",width:50,height:50})})]})]})})})]}),Object(et.jsxs)(At.a.Footer,{children:[Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"}),Object(et.jsx)("div",{className:"btn btn-outline btn-success",onClick:this.handleDownload,children:"Download"})]})]}),Object(et.jsxs)(At.a,{show:c,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[o.requester_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsx)("p",{className:"lead",children:"Please give a reason for disapproving this request..."}),Object(et.jsx)("textarea",{name:"finance_comment",rows:4,onChange:this.handleChange}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"This is to separate buttons"}),Object(et.jsx)("button",{className:"btn-block btn-success btn-sm",style:{flex:1},onClick:this.handleClose,children:"Cancel"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"is"}),Object(et.jsx)("button",{className:"btn-block btn-danger sm",onClick:function(){return e.handleDisApprove(o.id)},style:{flex:1},children:"Disapprove"})]})]})]}),d?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Business advance requests pending finance approval"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Staff"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Supervisor"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:i.map((function(s){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:s.requester_name}),Object(et.jsx)("td",{children:s.amount}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:s.supervisor_signature,width:50,height:50,alt:"/"})}),Object(et.jsxs)("td",{children:[Object(et.jsx)("div",{className:"btn btn-info btn-sm",onClick:function(){return e.handleView(s.id)},children:"View"}),s.finance_reviewed?Object(et.jsx)("div",{className:"btn btn-secondary btn-sm",style:{flex:1},disabled:!0,children:"Approved"}):Object(et.jsx)("div",{className:"btn btn-success btn-sm",style:{flex:1},onClick:function(){return t.handleApprove(s.id)},children:"Approve"}),s.finance_comment?Object(et.jsx)("div",{className:"btn btn-danger btn-sm disabled",style:{flex:1},children:"Disapproved"}):Object(et.jsx)("div",{className:"btn btn-danger btn-sm",onClick:function(){return t.handleDisApproveView(s.id)},children:"Disapprove"})]})]},s.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})}}]),s}(n.Component),Kt=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,purchases:e.supervisorPurchase,purchase:e.specificPurchase,finStaff:e.finStaff,sBAR:e.sBAR.sBAR,specificBAR:e.specificBAR.specificBAR,logo:e.logo.logo}}),(function(e){return{financeApprove:function(){return e(mt())},getSpecificPurchaseData:function(t){return e(vt(t))},requestFinanceStaff:function(t){return e(We(t))},BARFinanceApprove:function(){return e(zt())},getSpecificBARData:function(t){return e(Mt(t))},requestLogo:function(){return e(qt())}}}))(Gt);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Xt=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={amount:0,total:0,request:null,purpose:"",total_reimbursed:0,receipt:"",receipt_no:"",show:!1,error:null},e.componentDidMount=function(){var t=e.props.match.params.ID,s="businessadvancerequestfinance/?request=".concat(t);Xe.a.get(s).then((function(t){var s=t.data[0],n=s.amount,c=s.id;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{amount:n,request:c}))}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},n,c)))},e.handleReceipts=function(t){var s=t.target.name,n=t.target.files[0];e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},s,n)))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.amount,c=s.total,a=s.request,r=s.purpose,i=s.receipt,o=s.receipt_no,l=c-n,h=new FormData;h.append("total",c),h.append("request",a),h.append("receipt",i),h.append("total_reimbursed",l),h.append("receipt_no",o),h.append("purpose",r);Xe.a.post("businessexpensereport/",h).then((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0,error:null}))})).catch((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0,error:t.message}))}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.state,t=e.amount,s=e.total,n=e.error,c=e.show,a=this.props.auth.isAuthenticated;return Object(et.jsx)("div",{className:"testbox container mt-3 mb-3",children:a?Object(et.jsx)("form",{children:Object(et.jsxs)("div",{children:[n?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"red"},children:"Oops!"}),visible:c,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsxs)("p",{className:"lead",style:{color:"red"},children:["We encountered a problem. Please try again.",Object(et.jsx)("br",{}),"If the problem persists please contact support.",Object(et.jsx)("br",{}),n]})}):c&&!n?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"blue"},children:"Success"}),visible:c,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsx)("p",{className:"lead",children:"Business Expense successfully submitted"})}):null,Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"Business Expense Report"})}),Object(et.jsxs)("div",{children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"purpose",children:[" ","Purpose",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"purpose",type:"text",name:"purpose",onChange:this.handleChange,required:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"receipt_no",children:[" ","Receipt Number",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"receipt_no",type:"text",name:"receipt_no",onChange:this.handleChange,required:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Amount in Ksh",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"total",type:"number",name:"total",onChange:this.handleChange,required:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"advance",children:" Advance issued"}),Object(et.jsx)("input",{id:"amount",type:"number",name:"amount",value:t,onChange:this.handleChange,disabled:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"reimbursement",children:" Total reimbursement"}),Object(et.jsx)("input",{id:"total_reimbursed",type:"number",name:"total_reimbursed",value:s-t,disabled:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"receipt",children:[" ","Upload receipt",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"receipt",type:"file",name:"receipt",onChange:this.handleReceipts,required:!0})]})]}),Object(et.jsx)("div",{className:"btn-block",children:Object(et.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})})]})}):Object(et.jsx)(Ge.a,{to:"/auth/login"})})}}]),s}(n.Component),Qt=Object(r.b)((function(e){return{auth:e.auth}}))(Xt);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Wt=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={datefrom:"",dateto:"",other:0,destination:"",accommodation:"",project_to_charge:null,airticket:"",taxi:"",rangedates:[],staff:null,supervisor:null,purpose:"",show:!1,error:null},e.componentDidMount=function(){e.props.requestProjects(),e.props.requestSupervisors();var t=e.props.auth.user.user.id;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{staff:t}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{datefrom:"",dateto:"",other:0,accommodation:"",project_to_charge:null,airticket:"",taxi:"",rangedates:[],staff:null,supervisor:null,show:!1,destination:"",purpose:"",error:null}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},n,c))),console.log(e.state)},e.handleAccomodation=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{accommodation:!0}))},e.handleAccomodationX=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{accommodation:!1}))},e.handleTaxi=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{taxi:!0}))},e.handleTaxiX=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{taxi:!1}))},e.handleAirTicket=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{airticket:!0}))},e.handleAirTicketX=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{airticket:!1}))},e.handleSubmit=function(t){t.preventDefault();for(var s=e.state,n=s.staff,c=s.destination,a=s.purpose,r=s.project_to_charge,i=s.accommodation,o=s.airticket,l=s.taxi,h=s.supervisor,j=s.datefrom,u=s.dateto,p=s.rangedates,b=(new Date(u)-new Date(j))/864e5,O=0;O<=b;O++)p.push(O),console.log(O);var v={staff:n,destination:c,purpose:a,project_to_charge:r,accommodation:i,airticket:o,taxi:l,supervisor:h,period:p.length};console.log(v),Xe.a.post("travelauthorization/",v).then((function(t){var s=e.state.other;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}));var n=t.data.id;if(s>0){var c={amount:s,request:n};Xe.a.post("other/",c).then((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))})).catch((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{error:t.message}))}))}})).catch((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{error:t.message}))}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.state,t=e.datefrom,s=e.dateto,n=e.other,c=e.accommodation,a=e.project_to_charge,r=e.airticket,i=e.taxi,o=e.supervisor,l=e.error,d=e.purpose,h=e.show,j=e.destination,u=this.props.supervisors.supervisors,p=this.props.auth,b=this.props.projects.MHKprojects,O=p.isAuthenticated;return Object(et.jsx)("div",{className:"testbox container mt-3 mb-3",children:O?Object(et.jsx)("form",{children:Object(et.jsxs)("div",{children:[l?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"red"},children:"Oops!"}),visible:!0,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsxs)("p",{className:"lead",style:{color:"red"},children:["We encountered a problem. Please try again.",Object(et.jsx)("br",{}),"If the problem persists please contact support."]})}):h&&!l?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"blue"},children:"Success"}),visible:h,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsx)("p",{className:"lead",children:"Travel Authorization successfully submitted"})}):null,Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"Travel Authorization Form"})}),Object(et.jsxs)("div",{children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"description",children:[" ","Purpose of travel",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("textarea",{id:"purpose",type:"text",name:"purpose",value:d,onChange:this.handleChange,required:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"destination",children:[" ","Destination",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"destination",type:"text",name:"destination",value:j,onChange:this.handleChange,required:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"period",children:[" ","From",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"datefrom",type:"date",name:"datefrom",value:t,onChange:this.handleChange,required:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"period",children:[" ","To",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"dateto",type:"date",name:"dateto",value:s,onChange:this.handleChange,required:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"project",children:[" ","Project",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsxs)("select",{name:"project_to_charge",onChange:this.handleChange,children:[Object(et.jsx)("option",{defaultValue:!0,children:"Select project"}),b.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.project},e.id)}))]})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Supervisor",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsxs)("select",{name:"supervisor",onChange:this.handleChange,children:[Object(et.jsx)("option",{children:"Select your supervisor"}),u.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.supervisor_name},e.id)}))]})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"other",children:"Other expenses"}),Object(et.jsx)("input",{id:"other",type:"number",name:"other",value:n,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"question",children:[Object(et.jsx)("label",{children:"Do you require accomodation?"}),Object(et.jsxs)("div",{className:"question-answer",children:[Object(et.jsxs)("div",{children:[Object(et.jsx)("input",{type:"radio",value:c,id:"radio_1",name:"accommodation",onClick:this.handleAccomodation}),Object(et.jsx)("label",{htmlFor:"radio_1",className:"radio",children:Object(et.jsx)("span",{children:"Yes"})})]}),Object(et.jsxs)("div",{children:[Object(et.jsx)("input",{type:"radio",value:c,id:"radio_2",name:"accommodation",onClick:this.handleAccomodationX}),Object(et.jsx)("label",{htmlFor:"radio_2",className:"radio",children:Object(et.jsx)("span",{children:"No"})})]})]})]}),Object(et.jsxs)("div",{className:"question",children:[Object(et.jsx)("label",{children:"Do you require an air ticket? "}),Object(et.jsxs)("div",{className:"question-answer",children:[Object(et.jsxs)("div",{children:[Object(et.jsx)("input",{type:"radio",value:r,id:"radio_3",name:"airticket",onClick:this.handleAirTicket}),Object(et.jsx)("label",{htmlFor:"radio_3",className:"radio",children:Object(et.jsx)("span",{children:"Yes"})})]}),Object(et.jsxs)("div",{children:[Object(et.jsx)("input",{type:"radio",value:r,id:"radio_4",name:"airticket",onClick:this.handleAirTicketX}),Object(et.jsx)("label",{htmlFor:"radio_4",className:"radio",children:Object(et.jsx)("span",{children:"No"})})]})]})]}),Object(et.jsxs)("div",{className:"question",children:[Object(et.jsx)("label",{children:"Do you require a taxi? "}),Object(et.jsxs)("div",{className:"question-answer",children:[Object(et.jsxs)("div",{children:[Object(et.jsx)("input",{type:"radio",id:"radio_5",name:"taxi",value:i,onClick:this.handleTaxi}),Object(et.jsx)("label",{htmlFor:"radio_5",className:"radio",children:Object(et.jsx)("span",{children:"Yes"})})]}),Object(et.jsxs)("div",{children:[Object(et.jsx)("input",{type:"radio",value:i,id:"radio_6",name:"taxi"}),Object(et.jsx)("label",{htmlFor:"radio_6",className:"radio",onClick:this.handleTaxiX,children:Object(et.jsx)("span",{children:"No"})})]})]})]})]}),Object(et.jsx)("hr",{}),Object(et.jsx)("br",{}),Object(et.jsx)("div",{}),d&&j&&t&&s&&o&&a?Object(et.jsx)("div",{className:"btn-block",children:Object(et.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})}):Object(et.jsx)("small",{style:{color:"#de3765"},children:"Please fill all fields before submitting"})]})}):Object(et.jsx)(Ge.a,{to:"/auth/login"})})}}]),s}(n.Component),Jt=Object(r.b)((function(e){return{auth:e.auth,projects:e.projects,supervisors:e.supervisors}}),(function(e){return{requestProjects:function(){return e(kt())},requestSupervisors:function(){return e(Ze())}}}))(Wt);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Zt=function(e){return{type:xe,payload:e}},$t=function(e){return{type:me,payload:e}},es=function(){return function(e){Xe.a.get("travelauthorization/?approved=true").then((function(t){var s=t.data;e(function(e){return{type:xe,payload:e}}(s))})).catch((function(t){var s=t.message;e(function(e){return{type:me,payload:e}}(s))}))}},ts=function(e){return function(t){var s="travelauthorization/".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(function(e){return{type:fe,payload:e}}(s));var n=s.id,c="other/?request=".concat(n);Xe.a.get(c).then((function(e){var s=e.data;t(function(e){return{type:ye,payload:e}}(s))})).catch((function(e){var s=e.message;t(function(e){return{type:_e,payload:e}}(s))}))})).catch((function(e){var s=e.message;t(function(e){return{type:ge,payload:e}}(s))}))}};Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var ss=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={supervisor_comment:"",showDisapprove:!1},e.componentDidMount=function(){var t=e.props.supervisor.supervisor[0].id;e.props.requestSupervisorTravelAuthorization(t)},e.handleApprove=function(t){var s="travelauthorization/".concat(t,"/"),n={approved:!0,date_approved:new Date,supervisor_comment:null};Xe.a.patch(s,n).then((function(t){var s=e.props,n=s.auth,c=s.supervisor.supervisor[0].id;e.props.requestSupervisorTravelAuthorization(c);var a=n.user.user.id,r=t.data.id,i="travelauthorizationsupervisor/?request=".concat(r);Xe.a.get(i).then((function(t){try{var s=t.data[0].id,n="travelauthorizationsupervisor/".concat(s,"/"),c={approved:!0,owner:a,request:r};Xe.a.patch(n,c).then((function(t){var s=e.props.supervisor.supervisor[0].id;e.props.requestSupervisorTravelAuthorization(s)})).catch((function(e){console.log(e.message)}))}catch(o){var i={approved:!0,owner:a,request:r};Xe.a.post("travelauthorizationsupervisor/",i).then((function(t){var s=e.props.supervisor.supervisor[0].id;e.props.requestSupervisorTravelAuthorization(s)})).catch((function(e){console.log(e.message)}))}}))})).catch((function(e){console.log(e.message)}))},e.handleDisApproveView=function(t){e.props.requestSpecificTravelAuthorization(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!0}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))},e.handleDisApprove=function(t){var s=e.state.supervisor_comment,n="travelauthorization/".concat(t,"/"),c={approved:!1,date_approved:null,supervisor_comment:s};Xe.a.patch(n,c).then((function(t){var s=e.props,n=s.auth,c=s.supervisor.supervisor[0].id;e.props.requestSupervisorTravelAuthorization(c);var a=n.user.user.id,r=t.data.id,i="travelauthorizationsupervisor/?request=".concat(r);Xe.a.get(i).then((function(t){try{var s=t.data[0].id,n="travelauthorizationsupervisor/".concat(s,"/"),c={approved:!1,owner:a,request:r};Xe.a.patch(n,c).then((function(t){var s=e.props.supervisor.supervisor[0].id;e.props.requestSupervisorTravelAuthorization(s),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message)}))}catch(o){var i={approved:!1,owner:a,request:r};Xe.a.post("travelauthorizationsupervisor/",i).then((function(t){var s=e.props.supervisor.supervisor[0].id;e.props.requestSupervisorTravelAuthorization(s),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message)}))}}))})).catch((function(e){console.log(e.message)}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this.state.showDisapprove,s=this.props,n=s.auth,c=s.sTAS,a=s.specificTA.travelAuthorization,r=c.supervisorTravelAuthorization,i=n.isAuthenticated;return Object(et.jsx)("div",{children:Object(et.jsxs)("div",{className:"testbox container",children:[Object(et.jsxs)(At.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[a.staff_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsx)("p",{className:"lead",children:"Please give a reason for disapproving this request..."}),Object(et.jsx)("textarea",{name:"supervisor_comment",rows:4,onChange:this.handleChange}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"This is to separate buttons"}),Object(et.jsx)("button",{className:"btn-block btn-success btn-sm",style:{flex:1},onClick:this.handleClose,children:"Cancel"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"is"}),a.supervisor_comment?Object(et.jsx)("button",{className:"btn-block btn-danger sm disabled",style:{flex:1},onClick:function(){return e.handleDisApprove(a.id)},children:"Disapproved"}):Object(et.jsx)("button",{className:"btn-block btn-danger sm",style:{flex:1},onClick:function(){return e.handleDisApprove(a.id)},children:"Disapprove"})]})]})]}),i?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Pending/approved Travel Authorization"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Purpose of Travel"}),Object(et.jsx)("th",{children:"Destination"}),Object(et.jsx)("th",{children:"Period"}),Object(et.jsx)("th",{children:"Project"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:r.map((function(t){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:t.purpose}),Object(et.jsx)("td",{children:t.destination}),Object(et.jsx)("td",{children:t.period}),Object(et.jsx)("td",{children:t.project_name}),Object(et.jsxs)("td",{className:"flex-wrapper",children:[t.approved?Object(et.jsx)("div",{className:"btn btn-secondary disabled",style:{flex:2},children:"Approved"}):Object(et.jsx)("div",{className:"btn btn-success",onClick:function(){return e.handleApprove(t.id)},children:"Approve"})," ",t.supervisor_approved?null:t.supervisor_comment?Object(et.jsx)("div",{className:"btn btn-secondary",style:{flex:1},onClick:function(){return e.handleDisApproveView(t.id)},children:"Disapproved"}):Object(et.jsx)("div",{className:"btn btn-danger",style:{flex:1},onClick:function(){return e.handleDisApproveView(t.id)},children:"Disapprove"})]})]},t.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})})}}]),s}(n.Component),ns=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,sTAS:e.sTAS,logistics:e.supervisortaxilogistics,logistic:e.specifictaxilogistic.logistic,specificTA:e.specificTA}}),(function(e){return{requestSupervisorTravelAuthorization:function(t){return e(function(e){return function(t){var s="travelauthorization/?supervisor=".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(Zt(s))})).catch((function(e){var s=e.message;t($t(s))}))}}(t))},requestSpecificTravelAuthorization:function(t){return e(ts(t))}}}))(ss);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var cs=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={receipt:"",receipt_other:"",receipt_no_other:"",description:"",receipt_no:"",show:!1,error:null},e.componentDidMount=function(){var t=e.props.match.params.TAID;e.props.requestSpecificTravelAuthorization(t)},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},n,c)))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1}))},e.handleReceipt=function(t){var s=t.target.name,n=t.target.files[0];e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},s,n)))},e.printDiv=function(e){var t=document.getElementById(e).innerHTML,s=document.body.innerHTML;document.body.innerHTML=t,window.print(),document.body.innerHTML=s},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.description,c=s.receipt_no,a=s.receipt_other,r=s.receipt,i=s.receipt_no_other,o=e.props.specificTA,l=o.other,h=o.travelAuthorization.id,j="travelauthorizationsupervisor/?request=".concat(h);Xe.a.get(j).then((function(t){var s=t.data[0].id;try{var o=l[0].id,h=new FormData;h.append("description",n),h.append("receipt_no",i),h.append("receipt",a);var j="other/".concat(o,"/");Xe.a.patch(j,h).then((function(t){var n=s,i=o,l=new FormData;l.append("request",n),l.append("other",i),l.append("receipt",r),l.append("receipt_no",c),l.append("receipt_other",a),Xe.a.post("travelexpensereport/",l).then((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0,error:null}))})).catch((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0,error:t.message}))}))}))}catch(b){var u=s,p=new FormData;p.append("request",u),p.append("receipt",r),p.append("receipt_no",c),Xe.a.post("travelexpensereport/",p).then((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0,error:null}))})).catch((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0,error:t.message}))}))}})),console.log(e.state)},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.props,t=e.auth,s=e.specificTA,n=s.travelAuthorization,c=s.other,a=t.isAuthenticated,r=this.state,i=r.show,o=r.error;return Object(et.jsx)("div",{className:"testbox container mt-3 mb-3",id:"test",children:a?Object(et.jsx)("form",{children:Object(et.jsxs)("div",{children:[o?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"red"},children:"Oops!"}),visible:i,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsxs)("p",{className:"lead",style:{color:"red"},children:["We encountered a problem. Please try again.",Object(et.jsx)("br",{}),"If the problem persists please contact support.",Object(et.jsx)("br",{}),o]})}):i&&!o?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"blue"},children:"Success"}),visible:i,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsx)("p",{className:"lead",children:"Travel Expense successfully submitted"})}):null,Object(et.jsxs)("div",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"Travel Expense Report"})}),Object(et.jsxs)("div",{children:[Object(et.jsx)("div",{className:"colums",children:Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"project",children:" Date requested"}),Object(et.jsx)("input",{id:"date_approved",type:"text",name:"date_approved",value:St()(n.date).format("YYYY - MM - DD"),readOnly:!0})]})}),Object(et.jsx)("hr",{}),Object(et.jsxs)("div",{className:"colums",children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"project",children:" Supervisor"}),Object(et.jsx)("input",{id:"supervisor_name",type:"text",name:"supervisor_name",value:n.supervisor_name,readOnly:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"project",children:" Supervisor Sign"}),Object(et.jsx)("br",{}),Object(et.jsx)("img",{src:n.supervisor_signature,alt:"sign goes here",width:50,height:50})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"project",children:" Date signed"}),Object(et.jsx)("input",{id:"project",type:"text",name:"project",value:St()(n.date_approved).format("YYYY - MM - DD"),readOnly:!0})]})]}),Object(et.jsx)("hr",{}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"description",children:" Purpose of travel"}),Object(et.jsx)("textarea",{id:"description",type:"text",name:"description",value:n.purpose,readOnly:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"period",children:" Period"}),Object(et.jsx)("input",{id:"dateto",type:"text",name:"dateto",value:"".concat(n.period," days"),readOnly:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"project",children:" Project to charge"}),Object(et.jsx)("input",{id:"project",type:"text",name:"project",value:n.project_name,readOnly:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"receipt_no",children:"Receipt No."}),Object(et.jsx)("input",{id:"recceipt_no",type:"text",name:"receipt_no",onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"receipt",children:" Upload receipt"}),Object(et.jsx)("input",{id:"recceipt",type:"file",name:"receipt",onChange:this.handleReceipt})]}),Object(et.jsx)("hr",{}),c.length>0?Object(et.jsxs)("div",{children:[Object(et.jsx)("h1",{children:"Other Expenses"}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"receipt_no_other",children:[" ","Receipt Number"]}),Object(et.jsx)("input",{id:"receipt_no_other",type:"text",name:"receipt_no_other",onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(et.jsx)("input",{id:"amount",type:"number",name:"amount",value:c[0].amount,disabled:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"amount",children:"Description"}),Object(et.jsx)("textarea",{id:"description",type:"text",name:"description",rows:3,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsx)("label",{htmlFor:"project",children:" Upload receipt"}),Object(et.jsx)("input",{id:"receipt_other",type:"file",name:"receipt_other",onChange:this.handleReceipt})]})]}):null]}),Object(et.jsx)("br",{}),Object(et.jsx)("div",{className:"btn-block",children:Object(et.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})})]})]})}):Object(et.jsx)(Ge.a,{to:"/auth/login"})})}}]),s}(n.Component),as=Object(r.b)((function(e){return{auth:e.auth,specificTA:e.specificTA}}),(function(e){return{requestSpecificTravelAuthorization:function(t){return e(ts(t))}}}))(cs);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var rs=function(){return function(e){Xe.a.get("travelexpensereport/").then((function(t){var s=t.data;e(function(e){return{type:Se,payload:e}}(s))})).catch((function(t){var s=t.message;e({type:Ne,payload:s})}))}},is=function(e){return function(t){var s="travelexpensereport/".concat(e,"/");Xe.a.get(s).then((function(e){var s=e.data;t(function(e){return{type:Ce,payload:e}}(s));var n=s.request,c="travelauthorizationsupervisor/".concat(n);Xe.a.get(c).then((function(e){var s=e.data.request,n="travelauthorization/".concat(s);Xe.a.get(n).then((function(e){var s=e.data.id,n="other/?request=".concat(s);Xe.a.get(n).then((function(e){try{var s=e.data;t(function(e){return{type:De,payload:e}}(s))}catch(c){var n=c.message;t(function(e){return{type:Ee,payload:e}}(n))}}))}))}))})).catch((function(e){var s=e.message;t(function(e){return{type:qe,payload:e}}(s))}))}};Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var os=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,showDisapprove:!1,approved:!0,finance_comments:"",mie:0,lodging:0,times:[],amount:"",showAmount:!1,showDownload:!1},e.componentDidMount=function(){var t=e.props.auth;if(t.isAuthenticated){var s=t.user.user.id;e.props.requestFinanceStaff(s),e.props.requestTravelExpense(),e.props.requestLogo();Xe.a.get("lodgingmie/").then((function(t){var s=t.data[0],n=s.mie,c=s.lodging;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{mie:n,lodging:c}))}))}},e.handleView=function(t){e.props.getSpecificTravelExpenseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleTotal=function(){var t=e.props.TES,s=e.state,n=s.mie,c=s.lodging,a=t.period,r=parseInt(a[0]);r>1&&e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showAmount:!0,showDownload:!0,amount:(n+c)*r-6700}))},e.handleDisApproveView=function(t){e.props.getSpecificPurchaseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!0}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e.handleTest=function(){var t=e.props.TES.period;parseInt(t[0])>1&&e.setState(Object(d.a)(Object(d.a)({},e.state),{},{amount:100}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showDisapprove:!1,showAmount:!1,showDownload:!1})),console.log(e.state.times)},e.handleApprove=function(t){var s=e.props.finStaff.financeStaff[0].id,n="purchaserequisition/".concat(t,"/"),c={reviewing_finance_officer:s,finance_approved:!0,finance_comments:null,date_finace_officer_review:new Date};Xe.a.patch(n,c).then((function(t){console.log(t.data);var s=t.data.id,n=e.props,c=n.finStaff,a=n.auth,r=c.financeStaff[0].id,i=a.user.user.id,o="SAPR/?requisition=".concat(s);Xe.a.get(o).then((function(t){console.log(t.data);var s=t.data[0].id,n="FAPR/?requisition=".concat(s);Xe.a.get(n).then((function(t){try{var n=t.data[0].id,c="FAPR/".concat(n,"/"),a={finance_approved:!0,finance_disapproved:!1,disapproval_message:null,owner:i,finance_staff:r};Xe.a.patch(c,a).then((function(){e.props.financeApprove()}))}catch(l){console.log(l.message);var o={finance_approved:!0,finance_disapproved:!1,disapproval_message:null,owner:i,requisition:s,finance_staff:r};Xe.a.post("FAPR/",o).then((function(){e.props.financeApprove()})).catch((function(e){console.log(e.message),console.log(o)}))}}))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))},e.handleDisApprove=function(t){var s=e.state.finance_comments,n=e.props.finStaff.financeStaff[0].id,c="purchaserequisition/".concat(t,"/"),a={reviewing_finance_officer:n,finance_approved:!1,finance_comments:s,date_finace_officer_review:null};Xe.a.patch(c,a).then((function(t){console.log(t.data);var n=t.data.id,c=e.props,a=c.finStaff,r=c.auth,i=a.financeStaff[0].id,o=r.user.user.id,l="SAPR/?requisition=".concat(n);Xe.a.get(l).then((function(t){console.log(t.data);var n=t.data[0].id,c="FAPR/?requisition=".concat(n);Xe.a.get(c).then((function(t){try{var c=t.data[0].id,a="FAPR/".concat(c,"/"),r={finance_approved:!1,finance_disapproved:!0,owner:o,requisition:c,finance_staff:i,disapproval_message:s};Xe.a.patch(a,r).then((function(){e.props.financeApprove(),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))}))}catch(h){console.log(h.message);var l={finance_approved:!1,finance_disapproved:!0,owner:o,requisition:n,finance_staff:i,disapproval_message:s};Xe.a.post("FAPR/",l).then((function(){e.props.financeApprove(),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message),console.log(l)}))}}))})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))},e.printDiv=function(e){var t=document.getElementById(e).innerHTML,s=document.body.innerHTML;document.body.innerHTML=t,window.print(),window.location.reload(),document.body.innerHTML=s},e.handleDownload=function(){e.printDiv("report"),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this.state,s=t.show,n=t.showDisapprove,c=t.mie,a=t.lodging,r=this.props,i=r.purchase,o=r.auth,l=r.travelExpense,d=r.TES,h=r.otherTES,j=r.logo[0].image,u=d.period,p=d.date,b=d.receipt_no,O=d.total,v=[];try{for(var x=p[0],m=new Date(x),f=u[0],g=0;g<parseInt(f);g++)v.push(new Date(m.setDate((new Date).getDate()+g)))}catch(A){console.log(A.message)}var y=i.purchaseRequest,_=o.isAuthenticated;return Object(et.jsxs)("div",{className:"testbox container",children:[Object(et.jsxs)(At.a,{show:s,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsxs)("div",{id:"report",children:[Object(et.jsx)("br",{}),Object(et.jsxs)("div",{style:{textAlign:"center"},children:[Object(et.jsx)("img",{src:j,width:500,height:100,alt:"logo"}),Object(et.jsx)("br",{}),Object(et.jsx)("h2",{children:"Travel Expense Report"})]}),Object(et.jsxs)(At.a.Body,{children:[d.purpose?Object(et.jsxs)("div",{className:"row ml-3 mr-3",children:[Object(et.jsxs)("div",{className:"column",children:[Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Purpose : "}),d.purpose?d.purpose[0]:null]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Department : "}),d.department_name]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Traveller : "}),d.staff_name]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Signature : "}),Object(et.jsx)("img",{src:d.staff_signature,alt:"signature is here",width:50,height:50})]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Date : "}),St()(d.date[0]).format("YYYY - MM - DD")]})]}),Object(et.jsxs)("div",{className:"column",children:[Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Travel Period : "}),d.period," days"]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Supervisor: "}),d.supervisor_name]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Supervisor Signature : "}),Object(et.jsx)("img",{src:d.supervisor_signature,alt:"signature is here",width:50,height:50})]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Date Approved : "}),St()(d.date_approved[0]).format("YYYY - MM - DD")]})]})]}):null,Object(et.jsxs)("div",{className:"table-responsive",children:[Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Receipt No."}),Object(et.jsx)("th",{children:"Day"}),Object(et.jsx)("th",{children:"Description"}),Object(et.jsx)("th",{children:"Lodging"}),Object(et.jsx)("th",{children:"M&IE"}),Object(et.jsx)("th",{children:"Total"})]})}),Object(et.jsxs)("tbody",{children:[v.map((function(e,t){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:b}),Object(et.jsx)("td",{children:t+1}),0===t?Object(et.jsx)("td",{children:"Accomodation and 75% of MIE"}):t===v.length-1?Object(et.jsx)("td",{children:"Last day of travel and 75% of MIE"}):Object(et.jsx)("td",{children:" Accommodation and MIE"}),0===t&&1===e.length?Object(et.jsx)("td",{children:"0"}):0===t&&e.length>1?Object(et.jsx)("td",{children:.75*c}):t===v.length-1?Object(et.jsx)("td",{children:"0"}):Object(et.jsxs)("td",{children:[" ",a," "]}),0===t||t===v.length-1?Object(et.jsx)("td",{children:.75*c}):Object(et.jsx)("td",{children:c}),0===t&&v.length>1?Object(et.jsx)("td",{children:a+.75*c}):0===t&&1===v.length||t===v.length-1?Object(et.jsxs)("td",{children:[.75*c," "]}):Object(et.jsx)("td",{children:c+a})]},t)})),Object(et.jsx)("br",{}),Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{}),Object(et.jsx)("td",{}),Object(et.jsx)("td",{}),Object(et.jsx)("td",{colSpan:"3",children:Object(et.jsxs)("b",{children:[" Total Expenses: ",O]})})]})]})]}),h.length>0?Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsxs)("thead",{children:[Object(et.jsx)("tr",{children:Object(et.jsx)("td",{colSpan:"3",children:Object(et.jsx)("h3",{children:"Other Expenses"})})}),Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Receipt Number"}),Object(et.jsx)("th",{children:"Description"}),Object(et.jsx)("th",{children:"Amount"})]})]}),Object(et.jsx)("tbody",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:h[0].receipt_no}),Object(et.jsx)("td",{children:h[0].description}),Object(et.jsx)("td",{children:h[0].amount})]})})]}):null,h.length>0?Object(et.jsx)("table",{children:Object(et.jsx)("thead",{children:Object(et.jsx)("tr",{children:Object(et.jsxs)("th",{children:["Grand Total:"," ",parseInt(O)+parseInt(h[0].amount)]})})})}):Object(et.jsx)("table",{children:Object(et.jsx)("thead",{children:Object(et.jsx)("tr",{children:Object(et.jsxs)("th",{children:["Grand Total: ",parseInt(O)]})})})})]}),Object(et.jsx)("hr",{}),Object(et.jsx)("div",{children:Object(et.jsx)("img",{src:d.receipt,alt:"Ensure a receipt is attaced"})}),h.length>0?Object(et.jsx)("div",{children:Object(et.jsx)("img",{src:h[0].receipt,alt:"Ensure a receipt is attaced"})}):null]})," "]}),Object(et.jsxs)(At.a.Footer,{children:[Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"}),Object(et.jsx)("div",{className:"btn btn-outline btn-success",onClick:this.handleDownload,children:"Download"})]})]}),Object(et.jsxs)(At.a,{show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[y.requester_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsx)("p",{className:"lead",children:"Please give a reason for disapproving this request..."}),Object(et.jsx)("textarea",{name:"finance_comments",rows:4,onChange:this.handleChange}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"This is to separate buttons"}),Object(et.jsx)("button",{className:"btn-block btn-success btn-sm",style:{flex:1},onClick:this.handleClose,children:"Cancel"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"is"}),Object(et.jsx)("button",{className:"btn-block btn-danger sm",onClick:function(){return e.handleDisApprove(y.id)},style:{flex:1},children:"Disapprove"})]})]})]}),_?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Travel Expense Report Pending Finance Approval"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Staff"}),Object(et.jsx)("th",{children:"Purpose"}),Object(et.jsx)("th",{children:"Supervisor"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:l.map((function(t){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:t.staff_name}),Object(et.jsx)("td",{children:t.purpose[0]}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:t.supervisor_signature,width:50,height:50,alt:"/"})}),Object(et.jsx)("td",{children:Object(et.jsx)("div",{className:"btn btn-info btn-sm",onClick:function(){return e.handleView(t.id)},children:"View"})})]},t.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})}}]),s}(n.Component),ls=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,purchases:e.supervisorPurchase,purchase:e.specificPurchase,finStaff:e.finStaff,travelExpense:e.travelExpense.travelExpense,TES:e.TES.TES,otherTES:e.TES.otherTES,logo:e.logo.logo}}),(function(e){return{financeApprove:function(){return e(mt())},getSpecificTravelExpenseData:function(t){return e(is(t))},requestFinanceStaff:function(t){return e(We(t))},requestTravelExpense:function(){return e(rs())},requestLogo:function(){return e(qt())}}}))(os);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var ds=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,editShow:!1,activity:"",description:"",amount:null,reviewing_supervisor:null},e.componentDidMount=function(){var t=e.props.auth.user.user.id;e.props.getEmployeePurchaseData(t)},e.handleView=function(t){e.props.getSpecificPurchaseData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleEditShow=function(t){var s=e.props.purchase.purchaseRequest;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{editShow:!0,show:!1,activity:s.activity,description:s.description,amount:s.amount,reviewing_supervisor:s.reviewing_supervisor}))},e.handleEdit=function(t){var s=e.state,n={activity:s.activity,description:s.description,amount:s.amount,reviewing_supervisor:s.reviewing_supervisor,supervisor_approved:!1,supervisor_comments:null,finance_approved:!1,finance_comments:null,ceo_approved:!1,ceo_comments:null,date_supervisor_review:null,date_finace_officer_review:null,date_ceo_approval:null},c="purchaserequisition/".concat(t,"/");Xe.a.patch(c,n).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.message)}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},n,c)))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,editShow:!1,activity:"",description:"",amount:null,reviewing_supervisor:null}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.purchases,n=t.purchase,c=this.props.supervisors.supervisors,a=n.purchaseRequest,r=s.purchaseRequests,i=this.state,o=i.show,l=i.editShow,d=i.activity,h=i.description,j=i.amount,u=i.reviewing_supervisor;return Object(et.jsxs)("div",{className:"testbox container mt-3 mb-3",children:[Object(et.jsxs)(At.a,{show:o,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,onClick:this.handleClose,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[a.requester_name,"'s Request"]})}),Object(et.jsx)(At.a.Body,{children:Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Date Requested"}),Object(et.jsx)("th",{children:"Activity"}),Object(et.jsx)("th",{children:"Description"}),Object(et.jsx)("th",{children:"Account Code"}),Object(et.jsx)("th",{children:"Amount"}),a.supervisor_approved?Object(et.jsx)("th",{children:"Supervisor's Signature"}):null,a.finance_approved?Object(et.jsx)("th",{children:"Finance Reviewer's signature"}):null,a.ceo_approved?Object(et.jsx)("th",{children:"CEO's Signature"}):null,a.supervisor_comments?Object(et.jsx)("th",{children:"Supervisor Comments"}):a.finance_comments?Object(et.jsx)("th",{children:"Finance Comments"}):null]})}),Object(et.jsx)("tbody",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:St()(a.date_requested).format("YYYY - MM - DD")}),Object(et.jsx)("td",{children:a.activity}),Object(et.jsx)("td",{children:a.description}),Object(et.jsx)("td",{children:a.account_code_value}),Object(et.jsx)("td",{children:a.amount}),a.supervisor_approved?Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:a.supervisor_signature,width:50,height:50,alt:"signature"})}):null,a.finance_approved?Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:a.finance_officer_signature,width:50,height:50,alt:"signature"})}):null,a.ceo_approved?Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:a.CEO_signature,width:50,height:50,alt:"signature"})}):null,a.supervisor_comments?Object(et.jsx)("td",{children:a.supervisor_comments}):a.finance_comments?Object(et.jsx)("td",{children:a.finance_comments}):null]})})]})})}),Object(et.jsxs)(At.a.Footer,{children:[Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"}),a.supervisor_approved&&a.finance_approved&&a.ceo_approved?Object(et.jsx)("div",{className:"btn btn-success btn-sm disabled",children:"Edit"}):Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:function(){return e.handleEditShow(a.id)},children:"Edit"})]})]}),Object(et.jsxs)(At.a,{show:l,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,onClick:this.handleClose,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[a.requester_name,"'s Request"]})}),Object(et.jsx)(At.a.Body,{children:Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"Edit my purchase requisition"})}),Object(et.jsxs)("div",{children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"activity",children:[" ","Activity",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"activity",type:"text",name:"activity",value:d,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"description",children:[" ","Description",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("textarea",{id:"description",type:"date",name:"description",value:h,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Amount in Ksh",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"amount",type:"number",name:"amount",value:j,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Supervisor",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsxs)("select",{name:"reviewing_supervisor",value:u,onChange:this.handleChange,children:[Object(et.jsx)("option",{children:"Select your supervisor"}),c.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.supervisor_name},e.id)}))]})]})]}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"Button spacer"}),Object(et.jsx)("button",{className:"btn-block btn-success",onClick:function(){return e.handleEdit(a.id)},style:{flex:1},children:"Edit"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"S"}),Object(et.jsx)("button",{className:"btn-block btn-danger",onClick:this.handleClose,style:{flex:1},children:"Cancel"})]})]})})]}),Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"My Approved / Pending purchase requests"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Activity"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Status"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:r.map((function(t){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:t.activity}),Object(et.jsx)("td",{children:t.amount}),t.finance_comments||t.supervisor_comments?Object(et.jsx)("td",{style:{color:"red"},children:" Rejected"}):t.supervisor_approved&&t.finance_approved&&t.ceo_approved?Object(et.jsx)("td",{style:{color:"green"},children:"Approved"}):Object(et.jsx)("td",{style:{color:"#ffbb00"},children:"Under review"}),Object(et.jsx)("td",{children:Object(et.jsx)("div",{className:"btn btn-info btn-sm",onClick:function(){return e.handleView(t.id)},children:"View"})})]},t.id)}))})]})})]})]})}}]),s}(n.Component),hs=Object(r.b)((function(e){return{auth:e.auth,purchases:e.supervisorPurchase,purchase:e.specificPurchase,supervisors:e.supervisors,specificTA:e.specificTA}}),(function(e){return{getEmployeePurchaseData:function(t){return e(ft(t))},getSpecificPurchaseData:function(t){return e(vt(t))}}}))(ds);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var js=function(e){return{type:D,payload:e}},us=function(e){return{type:E,payload:e}},ps=function(e){return function(t){var s="taxilogistics/?supervisor=".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(js(s))})).catch((function(e){var s=e.message;t(us(s))}))}},bs=function(e,t,s,n,c){return function(a){a({type:N});var r={location_from:e,location_to:t,project:s,supervisor:n,staff_booking_taxi:c};Xe.a.post("taxilogistics/",r).then((function(e){var t=e.data;a(function(e){return{type:C,payload:e}}(t))})).catch((function(e){var t=e.message;a(function(e){return{type:q,payload:e}}(t))}))}},Os=function(e){return function(t){var s="taxilogistics/".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(function(e){return{type:R,payload:e}}(s))})).catch((function(e){var s=e.message;t(function(e){return{type:T,payload:e}}(s))}))}},vs=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={location_from:"",location_to:"",project:null,supervisor:null,staff_booking_taxi:null,show:!1},e.componentDidMount=function(){e.props.requestProjects();var t=e.props.auth.user.user.id;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{staff_booking_taxi:t}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},n,c)))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{location_from:"",location_to:"",project:null,supervisor:null,staff_booking_taxi:null,show:!1}))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.location_from,c=s.location_to,a=s.project,r=s.supervisor,i=s.staff_booking_taxi;e.props.taxiLogistics(n,c,a,r,i),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.props,t=e.projects,s=e.supervisors,n=e.taxilogistics.logisticsError,c=t.MHKprojects,a=this.state,r=a.location_from,i=a.location_to,o=a.show;return Object(et.jsx)("div",{className:"testbox container mt-3 mb-3",children:Object(et.jsx)("form",{children:Object(et.jsxs)("div",{children:[n?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"red"},children:"Oops!"}),visible:o,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsxs)("p",{className:"lead",style:{color:"red"},children:["We encountered a problem. Please try again.",Object(et.jsx)("br",{}),"If the problem persists please contact support."]})}):o&&!n?Object(et.jsx)(gt.a,{title:Object(et.jsx)("h2",{style:{color:"blue"},children:"Success"}),visible:o,footer:[Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:this.handleClose,children:"Close"})],children:Object(et.jsx)("p",{className:"lead",children:"Travel Authorization successfully submitted"})}):null,Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"Taxi logistics"})}),Object(et.jsxs)("div",{children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"location_from",children:[" ","Location To",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{type:"text",placeholder:"Destination",name:"location_to",value:i,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"location_from",children:[" ","Location From",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{type:"text",placeholder:"Start location",name:"location_from",value:r,onChange:this.handleChange,required:!0})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"description",children:[" ","Project",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsxs)("select",{name:"project",onChange:this.handleChange,children:[Object(et.jsx)("option",{children:"Select project"}),c.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.project},e.id)}))]})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Supervisor",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsxs)("select",{name:"supervisor",onChange:this.handleChange,children:[Object(et.jsx)("option",{children:"Select your supervisor"}),s.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.supervisor_name},e.id)}))]})]})]}),Object(et.jsx)("div",{className:"btn-block",children:Object(et.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})})]})})})}}]),s}(n.Component),xs=Object(r.b)((function(e){return{projects:e.projects,supervisors:e.supervisors.supervisors,auth:e.auth,taxilogistics:e.taxilogistics}}),(function(e){return{requestProjects:function(){return e(kt())},taxiLogistics:function(t,s,n,c,a){return e(bs(t,s,n,c,a))}}}))(vs);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var ms=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={supervisor_comment:"",showDisapprove:!1},e.componentDidMount=function(){var t=e.props.supervisor.supervisor[0].id;e.props.requestSupervisorTaxiLogistics(t)},e.handleApprove=function(t){var s="taxilogistics/".concat(t,"/"),n={supervisor_approved:!0,date_approved:new Date,supervisor_comment:null};Xe.a.patch(s,n).then((function(t){var s=e.props,n=s.auth,c=s.supervisor.supervisor[0].id;e.props.requestSupervisorTaxiLogistics(c);var a=n.user.user.id,r=t.data.id,i="taxilogisticssupervisor/?request=".concat(r);Xe.a.get(i).then((function(e){try{var t=e.data[0].id,s="taxilogisticssupervisor/".concat(t,"/"),n={approved:!0,owner:a,request:r};Xe.a.patch(s,n).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.message)}))}catch(i){var c={approved:!0,owner:a,request:r};Xe.a.post("taxilogisticssupervisor/",c).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.message)}))}}))})).catch((function(e){console.log(e.message)}))},e.handleDisApproveView=function(t){e.props.requestSpecificTaxiLogistic(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!0}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))},e.handleDisApprove=function(t){var s=e.state.supervisor_comment,n="taxilogistics/".concat(t,"/"),c={supervisor_approved:!1,date_approved:null,supervisor_comment:s};Xe.a.patch(n,c).then((function(t){var s=e.props,n=s.auth,c=s.supervisor.supervisor[0].id;e.props.requestSupervisorTaxiLogistics(c);var a=n.user.user.id,r=t.data.id,i="taxilogisticssupervisor/?request=".concat(r);Xe.a.get(i).then((function(t){try{var s=t.data[0].id,n="taxilogisticssupervisor/".concat(s,"/"),c={approved:!1,owner:a,request:r};Xe.a.patch(n,c).then((function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message)}))}catch(o){var i={approved:!1,owner:a,request:r};Xe.a.post("taxilogisticssupervisor/",i).then((function(t){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))})).catch((function(e){console.log(e.message)}))}}))})).catch((function(e){console.log(e.message)}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this.state.showDisapprove,s=this.props,n=s.auth,c=s.logistics,a=s.logistic,r=c.supervisorLogistics,i=n.isAuthenticated;return Object(et.jsx)("div",{children:Object(et.jsxs)("div",{className:"testbox container",children:[Object(et.jsxs)(At.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[a.staff_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsx)("p",{className:"lead",children:"Please give a reason for disapproving this request..."}),Object(et.jsx)("textarea",{name:"supervisor_comment",rows:4,onChange:this.handleChange}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"This is to separate buttons"}),Object(et.jsx)("button",{className:"btn-block btn-success btn-sm",style:{flex:1},onClick:this.handleClose,children:"Cancel"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"is"}),a.supervisor_comment?Object(et.jsx)("button",{className:"btn-block btn-danger sm disabled",style:{flex:1},onClick:function(){return e.handleDisApprove(a.id)},children:"Disapproved"}):Object(et.jsx)("button",{className:"btn-block btn-danger sm",style:{flex:1},onClick:function(){return e.handleDisApprove(a.id)},children:"Disapprove"})]})]})]}),i?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Pending/approved Taxi logistics"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Date"}),Object(et.jsx)("th",{children:"Location From"}),Object(et.jsx)("th",{children:"Location To"}),Object(et.jsx)("th",{children:"Project"}),Object(et.jsx)("th",{children:"Staff"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:r.map((function(t){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:St()(t.date).format("YYYY - MM - DD")}),Object(et.jsx)("td",{children:t.location_from}),Object(et.jsx)("td",{children:t.location_to}),Object(et.jsx)("td",{children:t.project_name}),Object(et.jsx)("td",{children:t.staff_name}),Object(et.jsxs)("td",{className:"flex-wrapper",children:[t.supervisor_approved?Object(et.jsx)("div",{className:"btn btn-secondary disabled",style:{flex:2},children:"Approved"}):Object(et.jsx)("div",{className:"btn btn-success",onClick:function(){return e.handleApprove(t.id)},children:"Approve"})," ",t.supervisor_approved?null:t.supervisor_comment?Object(et.jsx)("div",{className:"btn btn-secondary",style:{flex:1},onClick:function(){return e.handleDisApproveView(t.id)},children:"Disapproved"}):Object(et.jsx)("div",{className:"btn btn-danger",style:{flex:1},onClick:function(){return e.handleDisApproveView(t.id)},children:"Disapprove"})]})]},t.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})})}}]),s}(n.Component),fs=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,logistics:e.supervisortaxilogistics,logistic:e.specifictaxilogistic.logistic}}),(function(e){return{requestSupervisorTaxiLogistics:function(t){return e(ps(t))},requestSpecificTaxiLogistic:function(t){return e(Os(t))}}}))(ms),gs=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){if(e.props.auth.isAuthenticated){var t=e.props.supervisor.supervisor[0].id;e.props.requestSupervisorTaxiLogistics(t)}},e.printDiv=function(e){var t=document.getElementById(e).innerHTML,s=document.body.innerHTML;document.body.innerHTML=t,window.print(),window.location.reload(),document.body.innerHTML=s},e.handleDownload=function(){e.printDiv("report"),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.props,t=e.auth,s=e.logistics.supervisorLogistics,n=t.isAuthenticated;return Object(et.jsx)("div",{children:Object(et.jsx)("div",{className:"testbox container",children:n?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Pending/approved Taxi logistics"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Date"}),Object(et.jsx)("th",{children:"Location From"}),Object(et.jsx)("th",{children:"Location To"}),Object(et.jsx)("th",{children:"Project"}),Object(et.jsx)("th",{children:"Staff"}),Object(et.jsx)("th",{children:"Signature"})]})}),Object(et.jsx)("tbody",{children:s.map((function(e){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:St()(e.date).format("YYYY - MM - DD")}),Object(et.jsx)("td",{children:e.location_from}),Object(et.jsx)("td",{children:e.location_to}),Object(et.jsx)("td",{children:e.project_name}),Object(et.jsx)("td",{children:e.staff_name}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:e.supervisor_signature,width:50,height:50,alt:"signature"})})]},e.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})})})}}]),s}(n.Component),ys=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,logistics:e.supervisortaxilogistics}}),(function(e){return{requestSupervisorTaxiLogistics:function(t){return e(ps(t))}}}))(gs),_s=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){var t=e.props.auth.user.user.id;e.props.requestEmployeeTaxiLogistics(t)},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.props,t=e.auth,s=e.logistics.supervisorLogistics,n=t.isAuthenticated;return Object(et.jsx)("div",{children:Object(et.jsx)("div",{className:"testbox container",children:n?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Approved / Under review Taxi logistics"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Date"}),Object(et.jsx)("th",{children:"Location From"}),Object(et.jsx)("th",{children:"Location To"}),Object(et.jsx)("th",{children:"Project"}),Object(et.jsx)("th",{children:"Staff"}),Object(et.jsx)("th",{children:"Status"}),Object(et.jsx)("th",{children:"Signature"})]})}),Object(et.jsx)("tbody",{children:s.map((function(e){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:St()(e.date).format("YYYY - MM - DD")}),Object(et.jsx)("td",{children:e.location_from}),Object(et.jsx)("td",{children:e.location_to}),Object(et.jsx)("td",{children:e.project_name}),Object(et.jsx)("td",{children:e.staff_name}),e.supervisor_comment?Object(et.jsx)("td",{style:{color:"red"},children:"Rejected"}):e.supervisor_approved?Object(et.jsx)("td",{style:{color:"green"},children:"Approved"}):Object(et.jsx)("td",{style:{color:"yellow"},children:"Under Review"}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:e.supervisor_signature,width:50,height:50,alt:"signature"})})]},e.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})})})}}]),s}(n.Component),As=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,logistics:e.supervisortaxilogistics}}),(function(e){return{requestEmployeeTaxiLogistics:function(t){return e(function(e){return function(t){var s="taxilogistics/?staff_booking_taxi=".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(js(s))})).catch((function(e){var s=e.message;t(us(s))}))}}(t))}}}))(_s);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var ws=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,showDisapprove:!1,ID:null},e.componentDidMount=function(){var t=e.props.auth.user.user.id;e.props.requestEmployeeTravelAuthorization(t)},e.handleReport=function(t){var s="travelauthorizationsupervisor/?request=".concat(t);console.log(s),Xe.a.get(s).then((function(t){try{var s=t.data[0].request;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{ID:s}))}catch(n){console.log(n.message)}}))},e.handleView=function(t){e.props.requestSpecificTravelAuthorization(t),console.log(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this.state,s=t.show,n=t.ID,c=this.props,a=c.auth,r=c.sTAS,i=c.specificTA.travelAuthorization,o=r.supervisorTravelAuthorization,l=a.isAuthenticated;return Object(et.jsx)("div",{className:"testbox container",children:n?Object(et.jsx)(Ge.a,{to:"/docs/travelexpensereport/".concat(n)}):Object(et.jsxs)("div",{children:[Object(et.jsxs)(At.a,{show:s,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[i.staff_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Project: "}),i.project_name]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Period In Days: "}),i.period]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Destination: "}),i.destination]})]}),Object(et.jsxs)(At.a.Footer,{children:[Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"}),i.approved?Object(et.jsx)("div",{className:"btn btn-outline btn-success",onClick:function(){return e.handleReport(i.id)},children:"Report"}):null]})]}),l?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Approved / Under review Travel Authorizations"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Purpose of Travel"}),Object(et.jsx)("th",{children:"Status"}),Object(et.jsx)("th",{children:"Signature"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:o.map((function(t){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:t.purpose}),t.supervisor_comment?Object(et.jsx)("td",{style:{color:"red"},children:"Rejected"}):t.supervisor_approved?Object(et.jsx)("td",{style:{color:"green"},children:"Approved"}):Object(et.jsx)("td",{style:{color:"yellow"},children:"Under Review"}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:t.supervisor_signature,width:50,height:50,alt:"signature"})}),Object(et.jsx)("td",{children:Object(et.jsx)("div",{className:"btn btn-info btn-sm",onClick:function(){return e.handleView(t.id)},children:"View"})})]},t.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})})}}]),s}(n.Component),Ss=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,logistics:e.supervisortaxilogistics,sTAS:e.sTAS,specificTA:e.specificTA}}),(function(e){return{requestEmployeeTravelAuthorization:function(t){return e(function(e){return function(t){var s="travelauthorization/?staff=".concat(e);Xe.a.get(s).then((function(e){var s=e.data;t(Zt(s))})).catch((function(e){var s=e.message;t($t(s))}))}}(t))},requestSpecificTravelAuthorization:function(t){return e(ts(t))}}}))(ws);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Ns=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,editShow:!1,activity:"",description:"",amount:null,reviewing_supervisor:null,ID:null},e.componentDidMount=function(){var t=e.props.auth.user.user.id;e.props.requestEmployeeBusinessAdvanceRequest(t)},e.handleView=function(t){e.props.getSpecificBARData(t),console.log(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleReport=function(t){var s="businessadvancerequestsupervisor/?request=".concat(t);console.log(s),Xe.a.get(s).then((function(t){var s=t.data[0].id,n="businessadvancerequestfinance/?request=".concat(s);Xe.a.get(n).then((function(t){var s=t.data[0].request;console.log(s),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{ID:s}))}))}))},e.handleEdit=function(t){var s=e.state,n=s.activity,c=s.description,a=s.amount,r=s.reviewing_supervisor;console.log(t);var i={activity:n,description:c,amount:a,reviewing_supervisor:r,supervisor_approved:!1,supervisor_comments:null,finance_approved:!1,finance_comments:null,ceo_approved:!1,ceo_comments:null,date_supervisor_review:null,date_finace_officer_review:null,date_ceo_approval:null},o="purchaserequisition/".concat(t,"/");Xe.a.patch(o,i).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.message)}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(d.a)(Object(d.a)({},e.state),{},Object(nt.a)({},n,c)))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,editShow:!1,activity:"",description:"",amount:null,reviewing_supervisor:null}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.sBAR,n=t.specificBAR,c=this.state.ID,a=this.props.supervisors.supervisors,r=this.state,i=r.show,o=r.editShow,l=r.activity,d=r.description,h=r.amount,j=r.reviewing_supervisor;return Object(et.jsx)("div",{className:"testbox container mt-3 mb-3",children:c?Object(et.jsx)(Ge.a,{to:"/docs/businessexpensereport/".concat(c)}):Object(et.jsxs)("div",{children:[Object(et.jsxs)(At.a,{show:i,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,onClick:this.handleClose,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[n.requester_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Date: "}),St()(n.date).format("YYYY - MM - DD")]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Accoount Code: "}),n.account_code_value]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Description: "}),n.description]})]}),Object(et.jsxs)(At.a.Footer,{children:[Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"}),n.supervisor_approved&&n.finance_approved&&n.ceo_approved?Object(et.jsx)("div",{className:"btn btn-success btn-sm disabled",children:"Edit"}):Object(et.jsx)("div",{className:"btn btn-success btn-sm",onClick:function(){return e.handleReport(n.id)},children:"Report"})]})]}),Object(et.jsxs)(At.a,{show:o,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,onClick:this.handleClose,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[n.requester_name,"'s Request"]})}),Object(et.jsx)(At.a.Body,{children:Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"Edit my purchase requisition"})}),Object(et.jsxs)("div",{children:[Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"activity",children:[" ","Activity",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"activity",type:"text",name:"activity",value:l,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"description",children:[" ","Description",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("textarea",{id:"description",type:"date",name:"description",value:d,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Amount in Ksh",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsx)("input",{id:"amount",type:"number",name:"amount",value:h,required:!0,onChange:this.handleChange})]}),Object(et.jsxs)("div",{className:"item",children:[Object(et.jsxs)("label",{htmlFor:"amount",children:[" ","Supervisor",Object(et.jsx)("span",{children:"*"})]}),Object(et.jsxs)("select",{name:"reviewing_supervisor",value:j,onChange:this.handleChange,children:[Object(et.jsx)("option",{children:"Select your supervisor"}),a.map((function(e){return Object(et.jsx)("option",{value:e.id,children:e.supervisor_name},e.id)}))]})]})]}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"Button spacer"}),Object(et.jsx)("button",{className:"btn-block btn-success",onClick:function(){return e.handleEdit(n.id)},style:{flex:1},children:"Edit"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"S"}),Object(et.jsx)("button",{className:"btn-block btn-danger",onClick:this.handleClose,style:{flex:1},children:"Cancel"})]})]})})]}),Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{children:"My Approved / Pending purchase requests"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Project"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Status"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:s.map((function(t){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:t.project_name}),Object(et.jsx)("td",{children:t.amount}),t.finance_comments||t.supervisor_comments?Object(et.jsx)("td",{style:{color:"red"},children:" Rejected"}):t.supervisor_approved&&t.finance_approved&&t.ceo_approved?Object(et.jsx)("td",{style:{color:"green"},children:"Approved"}):Object(et.jsx)("td",{style:{color:"#ffbb00"},children:"Under review"}),Object(et.jsx)("td",{children:Object(et.jsx)("div",{className:"btn btn-info btn-sm",onClick:function(){return e.handleView(t.id)},children:"View"})})]},t.id)}))})]})})]})," "]})})}}]),s}(n.Component),Cs=Object(r.b)((function(e){return{auth:e.auth,purchases:e.supervisorPurchase,purchase:e.specificPurchase,supervisors:e.supervisors,sBAR:e.sBAR.sBAR,specificBAR:e.specificBAR.specificBAR}}),(function(e){return{getEmployeePurchaseData:function(t){return e(ft(t))},getSpecificPurchaseData:function(t){return e(vt(t))},requestEmployeeBusinessAdvanceRequest:function(t){return e(function(e){return function(t){var s="businessadvancerequest/?staff=".concat(e,"&finance_reviewed=true");Xe.a.get(s).then((function(e){var s=e.data;t(Lt(s))})).catch((function(e){var s=e.message;t(Ft(s))}))}}(t))},getSpecificBARData:function(t){return e(Mt(t))}}}))(Ns);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var qs=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,showDisapprove:!1,approved:!0,finance_comments:""},e.componentDidMount=function(){var t=e.props.auth;if(t.isAuthenticated){var s=t.user.user.id;e.props.requestFinanceStaff(s),e.props.requestBusinessExpenseReports(),e.props.requestLogo()}},e.printDiv=function(e){var t=document.getElementById(e).innerHTML,s=document.body.innerHTML;document.body.innerHTML=t,window.print(),window.location.reload(),document.body.innerHTML=s},e.handleView=function(t){e.props.getSpecificBERData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleDisApproveView=function(t){e.props.getSpecificBERData(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!0}))},e.handleChange=function(t){var s=t.target,n=s.name,c=s.value;e.setState(Object(nt.a)({},n,c))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1,showDisapprove:!1}))},e.handleApprove=function(t){var s=e.props.finStaff.financeStaff[0].id,n="businessexpensereport/".concat(t,"/"),c={Finance_staff:s,approved:!0,date_approved:new Date,finance_comments:null};Xe.a.patch(n,c).then((function(e){var t=e.data.id,n="businessexpensereportfinance/?request=".concat(t);Xe.a.get(n).then((function(e){try{var n=e.data[0].id,c="businessexpensereportfinance/".concat(n,"/");Xe.a.patch(c,{approved:!0}).then((function(e){return console.log(e.data)}))}catch(r){var a={finance_staff:s,request:t,approved:!0};Xe.a.post("businessexpensereportfinance/",a).then((function(e){console.log(e.data)}))}}))}))},e.handleDownload=function(t){e.printDiv("test"),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1}))},e.handleDisApprove=function(t){var s=e.state.finance_comments,n=e.props.finStaff.financeStaff[0].id,c="businessexpensereport/".concat(t,"/"),a={Finance_staff:n,approved:!1,date_approved:null,finance_comments:s};Xe.a.patch(c,a).then((function(t){var s=t.data.id,c="businessexpensereportfinance/?request=".concat(s);Xe.a.get(c).then((function(t){try{var c=t.data[0].id,a="businessexpensereportfinance/".concat(c,"/");Xe.a.patch(a,{approved:!1}).then((function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))}))}catch(i){var r={finance_staff:n,request:s,approved:!1};Xe.a.post("businessexpensereportfinance/",r).then((function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{showDisapprove:!1}))}))}}))}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this,t=this,s=this.state,n=s.show,c=s.showDisapprove,a=this.props,r=a.auth,i=a.sBAR,o=a.specificBAR,l=a.logo[0].image,d=r.isAuthenticated;return Object(et.jsxs)("div",{className:"testbox container",children:[Object(et.jsxs)(At.a,{show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsxs)("div",{id:"test",children:[Object(et.jsx)("br",{}),Object(et.jsxs)("div",{style:{textAlign:"center"},children:[Object(et.jsx)("img",{src:l,width:500,height:100,alt:"logo"}),Object(et.jsx)("br",{}),Object(et.jsx)("h2",{children:"Business Expense Report"})]}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Purpose: "}),o.purpose]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Department: "}),o.department_name]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Requester: "}),o.requester_name,Object(et.jsx)("br",{}),Object(et.jsx)("b",{children:"Signature: "}),o.staff_signature?Object(et.jsx)("img",{src:o.staff_signature,height:50,width:40,alt:"staff signature"}):null,Object(et.jsx)("br",{}),Object(et.jsx)("b",{children:"Date: "}),St()(o.date).format("YYYY - MM - DD")]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Checked by: "}),o.finance_name]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Signature: "}),o.finance_signature?Object(et.jsx)("img",{src:o.finance_signature,height:50,width:40,alt:"finance signature"}):null]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Date Approved: "}),o.date_approved?St()(o.date_approved).format("YYYY - MM - DD"):null]}),Object(et.jsxs)("table",{className:" table ",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Receipt No."}),Object(et.jsx)("th",{children:"Date"}),Object(et.jsx)("th",{children:"Description"}),Object(et.jsx)("th",{children:"Total"})]})}),Object(et.jsxs)("tbody",{children:[Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:o.receipt_no}),Object(et.jsx)("td",{children:St()(o.date).format("YYYY - MM - DD")}),Object(et.jsx)("td",{children:o.description}),Object(et.jsx)("td",{children:o.total})]}),Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{}),Object(et.jsx)("td",{}),Object(et.jsx)("td",{children:Object(et.jsx)("b",{children:"Advance Issued"})}),Object(et.jsx)("td",{children:o.advance_amount})]}),Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{}),Object(et.jsx)("td",{}),Object(et.jsx)("td",{children:Object(et.jsx)("b",{children:"Total Reimbursement"})}),Object(et.jsx)("td",{children:o.total_reimbursed})]})]})]}),Object(et.jsxs)("p",{className:"lead",children:[Object(et.jsx)("b",{children:"Receipt: "}),Object(et.jsx)("br",{}),Object(et.jsx)("img",{src:o.receipt,height:500,width:400,alt:"receipt missing"})]})]})]}),Object(et.jsxs)(At.a.Footer,{children:[Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"}),Object(et.jsx)("div",{className:"btn btn-outline btn-primary",onClick:this.handleDownload,children:"Download"})]})]}),Object(et.jsxs)(At.a,{show:c,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsx)(At.a.Header,{closeButton:!0,children:Object(et.jsxs)(At.a.Title,{id:"contained-modal-title-vcenter",children:[o.requester_name,"'s Request"]})}),Object(et.jsxs)(At.a.Body,{children:[Object(et.jsx)("p",{className:"lead",children:"Please give a reason for disapproving this request..."}),Object(et.jsx)("textarea",{name:"finance_comments",rows:4,onChange:this.handleChange}),Object(et.jsxs)("div",{className:"flex-wrapper",children:[Object(et.jsx)("span",{style:{flex:2,color:"transparent"},children:"This is to separate buttons"}),Object(et.jsx)("button",{className:"btn-block btn-success btn-sm",style:{flex:1},onClick:this.handleClose,children:"Cancel"}),Object(et.jsx)("span",{style:{color:"transparent"},children:"is"}),Object(et.jsx)("button",{className:"btn-block btn-danger sm",onClick:function(){return e.handleDisApprove(o.id)},style:{flex:1},children:"Disapprove"})]})]})]}),d?Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"Business advance requests pending finance approval"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Requester"}),Object(et.jsx)("th",{children:"Advance"}),Object(et.jsx)("th",{children:"Spent"}),Object(et.jsx)("th",{children:"Reimbursement"})]})}),Object(et.jsx)("tbody",{children:i.map((function(s){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:s.requester_name}),Object(et.jsx)("td",{children:s.advance_amount}),Object(et.jsx)("td",{children:s.total}),Object(et.jsx)("td",{children:s.total_reimbursed}),Object(et.jsxs)("td",{children:[Object(et.jsx)("div",{className:"btn btn-info btn-sm",onClick:function(){return e.handleView(s.id)},children:"View"}),s.approved?Object(et.jsx)("div",{className:"btn btn-secondary btn-sm",style:{flex:1},disabled:!0,children:"Approved"}):Object(et.jsx)("div",{className:"btn btn-success btn-sm",style:{flex:1},onClick:function(){return t.handleApprove(s.id)},children:"Approve"}),s.finance_comments?Object(et.jsx)("div",{className:"btn btn-danger btn-sm disabled",style:{flex:1},children:"Disapproved"}):Object(et.jsx)("div",{className:"btn btn-danger btn-sm",onClick:function(){return t.handleDisApproveView(s.id)},children:"Disapprove"})]})]},s.id)}))})]})})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})]})}}]),s}(n.Component),Ds=Object(r.b)((function(e){return{auth:e.auth,supervisor:e.supervisor,purchases:e.supervisorPurchase,purchase:e.specificPurchase,finStaff:e.finStaff,sBAR:e.sBAR.sBAR,specificBAR:e.specificBAR.specificBAR,logo:e.logo.logo}}),(function(e){return{financeApprove:function(){return e(mt())},requestBusinessExpenseReports:function(){return e((function(e){Xe.a.get("businessexpensereport/").then((function(t){var s=t.data;console.log(s),e(Lt(s))})).catch((function(t){var s=t.message;e(Ft(s))}))}))},getSpecificPurchaseData:function(t){return e(vt(t))},requestFinanceStaff:function(t){return e(We(t))},BARFinanceApprove:function(){return e(zt())},getSpecificBARData:function(t){return e(Mt(t))},getSpecificBERData:function(t){return e(function(e){return function(t){var s="businessexpensereport/".concat(e,"/");Xe.a.get(s).then((function(e){var s=e.data;t(Bt(s))})).catch((function(e){var s=e.message;t(It(s))}))}}(t))},requestLogo:function(){return e(qt())}}}))(qs);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var Es=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={mie:null,lodging:null,show:!1},e.componentDidMount=function(){e.props.requestApprovedTravelAuthorizations(),e.props.requestLogo();Xe.a.get("lodgingmie/").then((function(t){var s=t.data[0],n=s.mie,c=s.lodging;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{mie:n,lodging:c}))}))},e.handleView=function(t){e.props.requestSpecificTravelAuthorization(t),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!0}))},e.handleClose=function(){e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1}))},e.printDiv=function(e){var t=document.getElementById(e).innerHTML,s=document.body.innerHTML;document.body.innerHTML=t,window.print(),window.location.reload(),document.body.innerHTML=s},e.handleDownload=function(){e.printDiv("report"),e.setState(Object(d.a)(Object(d.a)({},e.state),{},{show:!1}))},e}return Object(Ue.a)(s,[{key:"render",value:function(){for(var e=this,t=this.props,s=t.auth,n=t.sTAS,c=t.specificTA,a=t.logo[0].image,r=c.travelAuthorization,i=c.other,o=r.period,l=r.total,d=n.supervisorTravelAuthorization,h=this.state,j=h.show,u=h.mie,p=h.lodging,b=s.isAuthenticated,O=[],v=0;v<parseInt(o);v++)O.push(v);return Object(et.jsx)("div",{className:"container mb-3 mt-3",children:b?Object(et.jsxs)("div",{children:[Object(et.jsxs)(At.a,{show:j,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(et.jsxs)("div",{id:"report",children:[Object(et.jsx)("br",{}),Object(et.jsxs)("div",{style:{textAlign:"center"},children:[Object(et.jsx)("img",{src:a,width:500,height:100,alt:"logo"}),Object(et.jsx)("br",{}),Object(et.jsx)("h2",{children:"Travel Authorization Form"})]}),Object(et.jsx)(At.a.Body,{children:Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Date Submitted"}),Object(et.jsx)("td",{children:St()(r.date).format("YYYY - MM - DD")}),Object(et.jsx)("th",{children:"Traveller Mobile No."}),Object(et.jsx)("td",{children:r.staff_phone})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Department"}),Object(et.jsx)("td",{children:r.staff_department}),Object(et.jsx)("th",{children:"Traveller"}),Object(et.jsx)("td",{children:r.staff_name}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:r.staff_signature,alt:"signature is here",width:50,height:50})})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Destination"}),Object(et.jsx)("td",{children:r.destination}),Object(et.jsx)("th",{children:"Requirements"}),r.taxi?Object(et.jsx)("td",{children:"Taxi"}):null,r.airticket?Object(et.jsx)("td",{children:"Air Ticket"}):null,r.accommodation?Object(et.jsx)("td",{children:"Accommodation"}):null]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Purpose"}),Object(et.jsx)("td",{children:r.purpose})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Travel Period"}),Object(et.jsxs)("td",{children:[r.period," days "]})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Project to Charger"}),Object(et.jsxs)("td",{children:[r.project_name," "]})]}),Object(et.jsxs)("thead",{children:[Object(et.jsx)("th",{children:"Approved by"}),Object(et.jsx)("td",{children:r.supervisor_name}),Object(et.jsxs)("td",{children:[" ",Object(et.jsx)("img",{src:r.supervisor_signature,alt:"supervisor signature",width:50,height:50})]}),Object(et.jsx)("td",{children:St()(r.date_approved).format("YYYY - MM - DD")})]}),Object(et.jsx)("br",{}),Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Day"}),Object(et.jsx)("th",{children:"Description"}),Object(et.jsx)("th",{children:"Lodging"}),Object(et.jsx)("th",{children:"M&IE"}),Object(et.jsx)("th",{children:"Total"})]})}),Object(et.jsxs)("tbody",{children:[O.map((function(e,t){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:t+1}),0===t?Object(et.jsx)("td",{children:"Accomodation and 75% of MIE"}):t===O.length-1?Object(et.jsx)("td",{children:"Last day of travel and 75% of MIE"}):Object(et.jsx)("td",{children:" Accommodation and MIE"}),0===t&&1===e.length?Object(et.jsx)("td",{children:"0"}):0===t&&e.length>1?Object(et.jsx)("td",{children:.75*u}):t===O.length-1?Object(et.jsx)("td",{children:"0"}):Object(et.jsxs)("td",{children:[" ",p," "]}),0===t||t===O.length-1?Object(et.jsx)("td",{children:.75*u}):Object(et.jsx)("td",{children:u}),0===t&&O.length>1?Object(et.jsx)("td",{children:p+.75*u}):0===t&&1===O.length||t===O.length-1?Object(et.jsxs)("td",{children:[.75*u," "]}):Object(et.jsx)("td",{children:u+p})]},t)})),Object(et.jsx)("br",{}),Object(et.jsx)("tr",{children:Object(et.jsx)("td",{colSpan:"5",children:Object(et.jsxs)("b",{children:["Total Expenses: Ksh. ",l]})})}),i.length>0?Object(et.jsx)("tr",{children:Object(et.jsx)("td",{colSpan:"5",children:Object(et.jsxs)("b",{children:["Other Expenses: Ksh. ",i[0].amount]})})}):Object(et.jsx)("td",{colSpan:"5",children:Object(et.jsx)("b",{children:"Other Expenses: Ksh. 0"})}),i.length>0?Object(et.jsx)("tr",{children:Object(et.jsx)("td",{colSpan:"5",children:Object(et.jsxs)("b",{children:["Grand Total: Ksh. ",i[0].amount+l]})})}):Object(et.jsx)("tr",{children:Object(et.jsx)("td",{colSpan:"5",children:Object(et.jsxs)("b",{children:["Grand Total: Ksh. ",l]})})})]})]})})})]}),Object(et.jsxs)(At.a.Footer,{children:[Object(et.jsx)("div",{className:"btn btn-outline btn-secondary",onClick:this.handleClose,children:"Close"}),Object(et.jsx)("div",{className:"btn btn-outline btn-success",onClick:this.handleDownload,children:"Download"})]})]}),Object(et.jsxs)("form",{children:[Object(et.jsx)("div",{className:"banner",children:Object(et.jsx)("h1",{className:"ml-2 mr-2",children:"View Travel Authorizations"})}),Object(et.jsx)("div",{className:"table-responsive",children:Object(et.jsxs)("table",{className:"table table-striped",children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{children:[Object(et.jsx)("th",{children:"Staff"}),Object(et.jsx)("th",{children:"Amount"}),Object(et.jsx)("th",{children:"Supervisor"}),Object(et.jsx)("th",{children:"Status"}),Object(et.jsx)("th",{children:"Action"})]})}),Object(et.jsx)("tbody",{children:d.map((function(t){return Object(et.jsxs)("tr",{children:[Object(et.jsx)("td",{children:t.staff_name}),Object(et.jsx)("td",{children:t.total}),Object(et.jsx)("td",{children:Object(et.jsx)("img",{src:t.supervisor_signature,width:50,height:50,alt:"/"})}),t.ceo_comments?Object(et.jsx)("td",{style:{color:"red"},children:"Rejected"}):t.ceo_approved?Object(et.jsx)("td",{style:{color:"green"},children:"Approved"}):Object(et.jsx)("td",{style:{color:"#ffbb00"},children:"Under review"}),Object(et.jsx)("td",{children:Object(et.jsx)("div",{className:"btn btn-info btn-sm",onClick:function(){return e.handleView(t.id)},children:"View"})})]},t.id)}))})]})})]})]}):Object(et.jsx)(Ge.a,{to:"/auth/login"})})}}]),s}(n.Component),Rs=Object(r.b)((function(e){return{auth:e.auth,sTAS:e.sTAS,specificTA:e.specificTA,logo:e.logo.logo}}),(function(e){return{requestApprovedTravelAuthorizations:function(){return e(es())},requestSpecificTravelAuthorization:function(t){return e(ts(t))},requestLogo:function(){return e(qt())}}}))(Es),Ts=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){return Object(ze.a)(this,s),t.apply(this,arguments)}return Object(Ue.a)(s,[{key:"render",value:function(){return Object(et.jsxs)("div",{children:[Object(et.jsx)(Ge.b,{exact:!0,path:"/",component:st}),Object(et.jsx)(Ge.b,{exact:!0,path:"/auth/login",component:ot}),Object(et.jsx)(Ge.b,{exact:!0,path:"/auth/register",component:jt}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/purchaserequisition",component:_t}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/purchaserequisitionsupervisor",component:Ct}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/purchaserequisitionfinance",component:Et}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/purchaserequisitionceo",component:Tt}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/businessadvancerequest",component:Vt}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/mybusinessadvance",component:Cs}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/businessadvancerequestsupervisor",component:Ht}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/businessadvancerequestfinance",component:Kt}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/businessexpensereport/:ID",component:Qt}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/businessexpensereportfinance",component:Ds}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/travelauthorization",component:Jt}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/travelauthorizationsupervisor",component:ns}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/travelauthorizationfinance",component:Rs}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/travelexpensereport/:TAID",component:as}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/travelexpensereportfinance/",component:ls}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/mypurchaserequisitions",component:hs}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/taxilogistics",component:xs}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/taxilogisticssupervisor",component:fs}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/taxilogisticsfinance",component:ys}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/mytaxilogistics",component:As}),Object(et.jsx)(Ge.b,{exact:!0,path:"/docs/mytravelauthorizations",component:Ss})]})}}]),s}(n.Component);Xe.a.defaults.baseURL="http://api-finance-docs.mhealthkenya.co.ke/api/";var ks=function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){var e;Object(ze.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={image:""},e.componentDidMount=function(){Xe.a.get("mhealthimages/?imagename=mhealthhomelogo").then((function(t){try{var s=t.data[0].image;e.setState(Object(d.a)(Object(d.a)({},e.state),{},{image:s}))}catch(n){console.log(n.message)}}))},e.handleLogout=function(){e.props.userLogout()},e}return Object(Ue.a)(s,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,s=this.state.image;if(t){var n=e.user.user.groups;return Object(et.jsxs)(et.Fragment,{children:[Object(et.jsx)("header",{id:"header",className:"header",children:Object(et.jsxs)("div",{className:"container",children:[Object(et.jsx)("div",{id:"logo",className:"pull-left",children:Object(et.jsx)("a",{href:"/",children:Object(et.jsx)("img",{src:s,alt:"",title:"",width:200,height:100})})}),Object(et.jsx)("nav",{id:"nav-menu-container",children:Object(et.jsxs)("ul",{className:"nav-menu",children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Home"})}),Object(et.jsxs)("li",{className:"menu-has-children",children:[Object(et.jsx)("a",{href:"/",children:"My Documents"}),Object(et.jsxs)("ul",{children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/mypurchaserequisitions",children:"Purchase Requisitions"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/mytaxilogistics",children:"Taxi Logistics"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/mybusinessadvance",children:"Business Advance"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/mytravelauthorizations",children:"Travel Authorization"})})]})]}),Object(et.jsxs)("li",{className:"menu-has-children",children:[Object(et.jsx)("a",{href:"/",children:"Finance Documents"}),Object(et.jsxs)("ul",{children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/businessadvancerequest",children:"Business Advance Request"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/travelauthorization",children:"Travel Authorization Form"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/taxilogistics",children:"Taxi Logistics"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/purchaserequisition",children:"Purchase Requisition Form"})})]})]}),Object(et.jsxs)("li",{className:"menu-has-children",children:[Object(et.jsx)("a",{href:"/",children:"HR Documents"}),Object(et.jsxs)("ul",{children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Monthly time sheet"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Leave application"})})]})]}),n.includes(2)?Object(et.jsxs)("li",{className:"menu-has-children",children:[Object(et.jsx)("a",{href:"/",children:"Approve"}),Object(et.jsxs)("ul",{children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/purchaserequisitionsupervisor",children:"Purchase Requisitions"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/taxilogisticssupervisor",children:"Taxi Logistic"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/businessadvancerequestsupervisor",children:"Business Advance"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/travelauthorizationsupervisor",children:"Travel Authorization"})})]})]}):null,n.includes(1)?Object(et.jsxs)("li",{className:"menu-has-children",children:[Object(et.jsx)("a",{href:"/",children:"Finance Aprrovals"}),Object(et.jsxs)("ul",{children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/purchaserequisitionfinance",children:"Purchase Requisitions"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/businessadvancerequestfinance",children:"Business Advance"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/businessexpensereportfinance",children:"Business Expense"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/taxilogisticsfinance",children:"Taxi Logistics"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/travelauthorizationfinance",children:"Travel Authorization"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/travelexpensereportfinance",children:"Travel Expense"})})]})]}):null,n.includes(3)?Object(et.jsxs)("li",{className:"menu-has-children",children:[Object(et.jsx)("a",{href:"/",children:"CEO"}),Object(et.jsx)("ul",{children:Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/docs/purchaserequisitionceo",children:"Purchase Requisitions"})})})]}):null,Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/auth/login",onClick:this.handleLogout,children:"Logout"})})]})})]})}),this.props.children,Object(et.jsxs)("footer",{className:"footer",children:[Object(et.jsx)("div",{className:"container",children:Object(et.jsxs)("div",{className:"row",children:[Object(et.jsx)("div",{className:"col-md-12 col-lg-4",children:Object(et.jsxs)("div",{className:"footer-logo",children:[Object(et.jsx)("a",{className:"navbar-brand",href:"/",children:"eStartup"}),Object(et.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the."})]})}),Object(et.jsx)("div",{className:"col-sm-6 col-md-3 col-lg-2",children:Object(et.jsxs)("div",{className:"list-menu",children:[Object(et.jsx)("h4",{children:"Abou Us"}),Object(et.jsxs)("ul",{className:"list-unstyled",children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"About us"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Features item"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Live streaming"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Privacy Policy"})})]})]})}),Object(et.jsx)("div",{className:"col-sm-6 col-md-3 col-lg-2",children:Object(et.jsxs)("div",{className:"list-menu",children:[Object(et.jsx)("h4",{children:"Abou Us"}),Object(et.jsxs)("ul",{className:"list-unstyled",children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"About us"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Features item"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Live streaming"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Privacy Policy"})})]})]})}),Object(et.jsx)("div",{className:"col-sm-6 col-md-3 col-lg-2",children:Object(et.jsxs)("div",{className:"list-menu",children:[Object(et.jsx)("h4",{children:"Support"}),Object(et.jsxs)("ul",{className:"list-unstyled",children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"faq"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Editor help"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Contact us"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Privacy Policy"})})]})]})}),Object(et.jsx)("div",{className:"col-sm-6 col-md-3 col-lg-2",children:Object(et.jsxs)("div",{className:"list-menu",children:[Object(et.jsx)("h4",{children:"Abou Us"}),Object(et.jsxs)("ul",{className:"list-unstyled",children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"About us"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Features item"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Live streaming"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Privacy Policy"})})]})]})})]})}),Object(et.jsx)("div",{className:"copyrights",children:Object(et.jsxs)("div",{className:"container",children:[Object(et.jsx)("p",{children:"\xa9 Copyrights eStartup. All rights reserved."}),Object(et.jsxs)("div",{className:"credits",children:["Designed by ",Object(et.jsx)("a",{href:"/",children:"BootstrapMade"})]})]})})]}),Object(et.jsx)("a",{href:"/",className:"back-to-top",children:Object(et.jsx)("i",{className:"fa fa-chevron-up"})})]})}return Object(et.jsxs)(et.Fragment,{children:[Object(et.jsx)("header",{id:"header",className:"header",children:Object(et.jsxs)("div",{className:"container",children:[Object(et.jsxs)("div",{id:"logo",className:"pull-left",children:[Object(et.jsx)("h1",{children:Object(et.jsxs)("a",{href:"/",children:[Object(et.jsx)("span",{children:"m"}),"Health"]})}),Object(et.jsx)("a",{href:"/",children:Object(et.jsx)("img",{src:"assets/img/logo.png",alt:"",title:""})})]}),Object(et.jsx)("nav",{id:"nav-menu-container",children:Object(et.jsxs)("ul",{className:"nav-menu",children:[Object(et.jsx)("li",{className:"menu-active",children:Object(et.jsx)("a",{href:"/",children:"Home"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/auth/register",children:"Register"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/auth/login",children:"Login"})})]})})]})}),this.props.children,Object(et.jsxs)("footer",{className:"footer",children:[Object(et.jsx)("div",{className:"container",children:Object(et.jsxs)("div",{className:"row",children:[Object(et.jsx)("div",{className:"col-md-12 col-lg-4",children:Object(et.jsxs)("div",{className:"footer-logo",children:[Object(et.jsx)("a",{className:"navbar-brand",href:"/",children:"eStartup"}),Object(et.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the."})]})}),Object(et.jsx)("div",{className:"col-sm-6 col-md-3 col-lg-2",children:Object(et.jsxs)("div",{className:"list-menu",children:[Object(et.jsx)("h4",{children:"Abou Us"}),Object(et.jsxs)("ul",{className:"list-unstyled",children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"About us"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Features item"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Live streaming"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Privacy Policy"})})]})]})}),Object(et.jsx)("div",{className:"col-sm-6 col-md-3 col-lg-2",children:Object(et.jsxs)("div",{className:"list-menu",children:[Object(et.jsx)("h4",{children:"Abou Us"}),Object(et.jsxs)("ul",{className:"list-unstyled",children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"About us"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Features item"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Live streaming"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Privacy Policy"})})]})]})}),Object(et.jsx)("div",{className:"col-sm-6 col-md-3 col-lg-2",children:Object(et.jsxs)("div",{className:"list-menu",children:[Object(et.jsx)("h4",{children:"Support"}),Object(et.jsxs)("ul",{className:"list-unstyled",children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"faq"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Editor help"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Contact us"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Privacy Policy"})})]})]})}),Object(et.jsx)("div",{className:"col-sm-6 col-md-3 col-lg-2",children:Object(et.jsxs)("div",{className:"list-menu",children:[Object(et.jsx)("h4",{children:"Abou Us"}),Object(et.jsxs)("ul",{className:"list-unstyled",children:[Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"About us"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Features item"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Live streaming"})}),Object(et.jsx)("li",{children:Object(et.jsx)("a",{href:"/",children:"Privacy Policy"})})]})]})})]})}),Object(et.jsx)("div",{className:"copyrights",children:Object(et.jsxs)("div",{className:"container",children:[Object(et.jsx)("p",{children:"\xa9 Copyrights mHealth Kenya. All rights reserved."}),Object(et.jsxs)("div",{children:["Designed by ",Object(et.jsx)("a",{href:"/",children:"Joel, Bruno and Dennis"})]})]})})]}),Object(et.jsx)("a",{href:"/",className:"back-to-top",children:Object(et.jsx)("i",{className:"fa fa-chevron-up"})})]})}}]),s}(n.Component),Ps=Object(r.b)((function(e){return{auth:e.auth}}),(function(e){return{userLogout:function(){return e(rt())}}}))(ks),Ls=(s(117),s(118),s(119),s(120),s(121),s.p,s(122),s(123),s(124),s(125),s(126),s(127),s(128),s(129),s(130),s(131),function(e){Object(Ve.a)(s,e);var t=Object(Ye.a)(s);function s(){return Object(ze.a)(this,s),t.apply(this,arguments)}return Object(Ue.a)(s,[{key:"render",value:function(){return Object(et.jsx)(He.a,{children:Object(et.jsx)(Ps,{children:Object(et.jsx)(Ts,{})})})}}]),s}(n.Component)),Fs=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,148)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};a.a.render(Object(et.jsx)(r.a,{store:Me,children:Object(et.jsx)(Ls,{})}),document.getElementById("root")),Fs()},90:function(e,t,s){}},[[132,1,2]]]);
//# sourceMappingURL=main.ab151900.chunk.js.map